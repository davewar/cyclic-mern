{"version":3,"sources":["constants/routes.js","components/Home.js","components/Error.js","utils/storage.js","contexts/shopping.js","contexts/user.js","components/Navbar.js","components/products/Filters.js","components/products/Products.js","components/products/ProductDetails.js","components/cart/Cart.js","components/accounts/Login.js","components/accounts/Register.js","components/accounts/History.js","components/accounts/orderDetails.js","components/accounts/ActivateAccount.js","components/accounts/ResetAccount.js","components/accounts/ResetPassword.js","components/admin/products.js","components/admin/amendProducts.js","pages/Pages.js","App.js","index.js"],"names":["PRODUCTS","REGISTER","LOGIN","CREATE_PRODUCT","HISTORY","Home","className","onClick","window","open","Error","to","addToStorage","item","localStorage","setItem","JSON","stringify","clearStorage","removeItem","ShoppingContext","createContext","ShoppingProvider","children","useState","products","setProducts","total","setTotal","cart","setCart","categorysGlobal","setCategorysGlobal","categorySelection","setCategorySelection","search","setSearch","Provider","value","addItem","price","_id","title","image","countInStock","obj","count","every","newList","alert","map","reduceQty","id","increaseQty","filter","clearBasket","getTotal","totalSum","reduce","prev","UserContext","UserProvider","user","setUser","accessToken","setAccessToken","isLogged","setIsLogged","isAdmin","setIsAdmin","history","setHistory","useEffect","a","fetch","headers","Authorization","res","json","data","name","role","console","log","message","getUser","Navbar","useContext","logOutUser","ROUTES","style","height","color","width","fontWeight","border","forEach","val","cartCount","Filters","category","setCategory","loading","setLoading","error","setError","getCategorys","type","onChange","e","target","placeholder","styledObj","Products","newData","getProducts","deleteProduct","method","body","credentials","toLowerCase","includes","src","alt","description","length","ProductDetails","product","setProduct","useParams","x","err","minWidth","Cart","Login","useHistory","signInErr","setSignInErr","email","setemail","password","setpassword","emailErr","setemailErr","passwordErr","setpasswordErr","handleChange","emailRegEx","RegExp","test","handleSignIn","preventDefault","errors","accesstoken","push","onSubmit","htmlFor","required","autoComplete","Register","signUpErr","setSignUpErr","setname","confPassword","setconfPassword","nameErr","setnameErr","confPasswordErr","setconfPasswordErr","success","setSuccess","handleSignUp","msg","History","getHistory","scope","paymentID","Date","createdAt","toLocaleDateString","OrderDetails","orderDetails","setOrderDetails","address","recipient_name","line1","city","postal_code","country_code","Sent","ActivateAccount","setErr","validate","ResetAccount","ResetPassword","initialState","CreateProduct","handleChangeInput","handleSubmit","rows","AmendProduct","Pages","exact","path","component","App","storage","parse","getItem","refreshToken","disableReactDevTools","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bfbac1fc.chunk.js","sourcesContent":["export const HOME = '/';\nexport const PRODUCTS = '/products';\nexport const CART = '/cart';\nexport const REGISTER = '/signup';\nexport const LOGIN = '/signin';\nexport const CONTACT = '/contact';\nexport const CREATE_PRODUCT = '/product_create';\nexport const AMEND_PRODUCT = '/product_amend';\nexport const HISTORY = '/history';\nexport const ACTIVATE = '/user/activate';\nexport const RESET = '/reset';\nexport const RESETPASSWORD = '/reset_password';\n\n\n\n\n","import React from 'react';\n\nconst Home = () => {\n\treturn (\n\t\t<div className='container-lg  pt-5 pb-5 mt-6 '>\n\t\t\t<div className='row d-flex justify-content-center align-items-center '>\n\t\t\t\t<div className='col-xs-12'>\n\t\t\t\t\t<h1 className='text-center mt-5 '>Welcome to My fullstack Website</h1>\n\n\t\t\t\t\t<h5 className='mt-5'>FrontEnd</h5>\n\n\t\t\t\t\t<ul className='list-unstyled'>\n\t\t\t\t\t\t<li>- React</li>\n\t\t\t\t\t\t<li>- Bootstrap</li>\n\t\t\t\t\t\t<li>- Paypal</li>\n\t\t\t\t\t\t<li>- Login/Register </li>\n\t\t\t\t\t\t<li>- Admin user - Add / Delete / Amend Products</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t- Activate account by validating email address of user\n\t\t\t\t\t\t\t(Nodemailer)\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>- Password Reset (Nodemailer)</li>\n\t\t\t\t\t\t<li>- Account locked - password incorrect three times in a row</li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<h5 className='mt-5'>BackEnd</h5>\n\t\t\t\t\t<ul className='list-unstyled'>\n\t\t\t\t\t\t<li>- NodeJS</li>\n\t\t\t\t\t\t<li>- Express</li>\n\t\t\t\t\t\t<li>- MongoDB</li>\n\t\t\t\t\t\t<li>{`- JWT AccessToken && RefreshToken + HTTP only cookie`}</li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-primary'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\twindow.open('https://github.com/davewar/React_shop_Nodemailer');\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tGitHub Code\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Home;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nconst Error = () => {\n  return (\n    <div>\n      <h1>Error Page</h1>\n      <Link to='/'>Back Home</Link>\n    </div>\n  );\n};\n\nexport default Error;\n","\nexport const addToStorage =(item)=>{\n            // console.log(cart);\n    localStorage.setItem(\"basket\", JSON.stringify(item))\n    \n}\n\nexport const getStorage = ()=>{\n\n    const data = JSON.parse(localStorage.getItem(\"basket\"))\n    return data\n}\n\nexport const clearStorage = ()=>{\n\n    localStorage.removeItem(\"basket\")\n    \n}","import React, {createContext,useState} from 'react';\n\nimport { addToStorage, clearStorage} from '../utils/storage'\n\nexport const ShoppingContext = createContext()\n\nconst ShoppingProvider = ({children})=>{\n  \n    const [products, setProducts] = useState([])\n     const [total, setTotal] = useState(0);\n        const [cart,setCart] = useState([])\n            const [categorysGlobal, setCategorysGlobal] = useState([])\n           \n        \n    // Filter component\n      const [categorySelection, setCategorySelection] = useState(\"all\")  // selected category\n      //search input box\n    const [search, setSearch] = useState(\"\")\n\n        //add   \n        // console.log(cart);\n\n        \n\n        const addItem = (addItem)=>{\n            // console.log(item)\n            const {price,_id, title,image,countInStock} = addItem           \n\n            let obj = {_id, title, price,countInStock, image, count:1}\n            // console.log(obj)\n\n            //in basket already?\n            const inBasket = cart.every(item => item._id !==_id)\n            // console.log(inBasket)\n\n            //not in basket -ie false            \n            if(inBasket){\n                const newList = [...cart,obj]\n                // setCart([...cart,obj])\n                setCart(newList)\n                addToStorage(newList) // add to storage\n                alert(\"Item added to cart.\")\n            \n               \n            }            \n            else{\n                //in basket - true\n                 const newList = cart.map(item=>{\n                     \n                    if(item._id === _id){\n                        \n                        return {\n                            ...item,\n                           count: item.count +1\n                        }\n                   \n                    }\n\n                    return item\n                    \n                })\n\n                setCart(newList)\n                addToStorage(newList) // add to storage\n                alert(\"Item added to cart.\")\n               \n               \n            }     \n           \n        }\n\n        //reduce qty \n        const reduceQty = (id)=>{\n              const newList = cart.map(item=>{\n                     \n                    if(item._id === id){\n\n                        // no items below one\n                        if(item.count === 1){\n\n                              return {\n                                    ...item,\n                                count: item.count =1\n                                }\n                               \n                        } else{\n\n                             return {\n                                    ...item,\n                                count: item.count -1\n                                }\n\n\n                        }\n                        \n                       \n                   \n                    }\n\n                    return item\n                    \n                })\n\n                setCart(newList)\n                addToStorage(newList) // add to storage\n            \n        }\n\n        //increase qty\n\n        const increaseQty = (id)=>{\n\n\n             const newList = cart.map(item=>{\n                     \n                    if(item._id === id){\n                        \n                        return {\n                            ...item,\n                           count: item.count +1\n                        }\n                   \n                    }\n\n                    return item\n                    \n                })\n\n                setCart(newList)\n                addToStorage(newList) // add to storage\n        }\n\n\n        //remove\n        const removeItem = (id)=>{\n\n               const newList = cart.filter(item=> item._id !== id)\n\n                setCart(newList)\n                addToStorage(newList) // add to storage\n        }\n\n        //remove\n        const clearBasket = ()=>{\n            setCart([])\n            setTotal(0)\n           \n            clearStorage() // remove storage\n\n        }\n\n        const getTotal = () => {\n        \n            const totalSum = cart.reduce((prev, item) => {\n                return prev + (item.price * item.count);\n            },0)\n            // console.log(totalSum);\n            setTotal(totalSum)\n\n        };\n\n\n    return (\n        <ShoppingContext.Provider value={{\n            products, setProducts,\n            cart, setCart, \n            addItem,reduceQty,increaseQty,removeItem,clearBasket,\n            total,getTotal,\n\n           \n\n            categorySelection, setCategorySelection,\n            search, setSearch,\n\n            categorysGlobal, setCategorysGlobal\n\n        }} >\n\n            {children}\n        </ShoppingContext.Provider>\n    )\n\n};\n\nexport default ShoppingProvider;\n","import React, {createContext,useEffect,useState} from 'react';\n\nexport const UserContext = createContext()\n\nconst UserProvider = ({children})=>{\n\n        const [user, setUser] = useState(\"\")\n        const [accessToken, setAccessToken] = useState(\"\")\n        const [isLogged, setIsLogged] = useState(false)\n        const [isAdmin, setIsAdmin] = useState(false)\n        const [history, setHistory] = useState([])\n\n                \n        // finds out if logged user is admin or customer\n        useEffect(() => {\n             if(accessToken){\n                const getUser = async () =>{\n\n                    try {\n                        \n                    const res = await fetch('/user/infor',{\n                        headers: {Authorization: accessToken}\n                    })\n\n                    const data = await res.json()\n\n                    // console.log(\"GETUSER\",data)\n\n                    setIsLogged(true)\n                    setUser(data.name)\n                    data.role === 1 ? setIsAdmin(true) : setIsAdmin(false)\n\n                  \n\n                } catch (err) {\n                    console.log(\"DW\",err.message)\n                }\n            }\n\n            getUser()\n            \n        }\n\n\n    }, [accessToken])\n\n       \n\n    return (\n        <UserContext.Provider value={{\n           user, setUser,\n           isLogged, setIsLogged,\n           isAdmin, setIsAdmin,\n           accessToken, setAccessToken,\n            history, setHistory\n        }} >\n\n            {children}\n        </UserContext.Provider>\n    )\n\n};\n\nexport default UserProvider;","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\nimport { FaShoppingCart } from 'react-icons/fa';\nimport { ShoppingContext } from '../contexts/shopping';\nimport { UserContext } from '../contexts/user';\n\nconst Navbar = () => {\n\tconst { cart } = useContext(ShoppingContext); //global\n\tconst {\n\t\tisLogged,\n\t\tisAdmin,\n\t\tsetIsLogged,\n\t\tsetIsAdmin,\n\t\tsetAccessToken,\n\t\tsetUser,\n\t\tuser,\n\t} = useContext(UserContext); //global\n\n\t//items in basket\n\tconst cartCount = () => {\n\t\tlet count = 0;\n\t\tif (!cart) {\n\t\t\treturn count;\n\t\t}\n\n\t\tcart.forEach((item) => {\n\t\t\tlet val = item.count;\n\t\t\tcount += val;\n\t\t});\n\t\treturn count;\n\t};\n\n\tconst logOutUser = async () => {\n\t\t//remove cookie\n\t\tawait fetch('/user/logout');\n\t\t//remove ls\n\t\tlocalStorage.removeItem('firstLogin');\n\n\t\tsetIsLogged(false);\n\t\tsetIsAdmin(false);\n\t\tsetAccessToken('');\n\t\tsetUser('');\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className='container-lg'>\n\t\t\t\t{user && (\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t<h4 className='mt-2 d-flex justify-content-center'>{user}</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className='row mt-5'>\n\t\t\t\t\t<div className='col-6 pl-0 pr-0'>\n\t\t\t\t\t\t<nav className=' navbar-nav navbar-expand-md navbar-light'>\n\t\t\t\t\t\t\t<ul className='navbar-nav justify-content-between'>\n\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t<Link className='nav-item nav-link active' to={ROUTES.HOME}>\n\t\t\t\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t<Link className='nav-item nav-link' to={ROUTES.PRODUCTS}>\n\t\t\t\t\t\t\t\t\t\tProducts\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t{isLogged && (\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link className='nav-item nav-link' to={ROUTES.HISTORY}>\n\t\t\t\t\t\t\t\t\t\t\tAccount\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{!isLogged && (\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link className='nav-item nav-link' to={ROUTES.LOGIN}>\n\t\t\t\t\t\t\t\t\t\t\tSignIn\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{isLogged && (\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tclassName='nav-item nav-link'\n\t\t\t\t\t\t\t\t\t\t\tonClick={logOutUser}\n\t\t\t\t\t\t\t\t\t\t\tto={ROUTES.HOME}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tSignOut\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{!isLogged && (\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link className='nav-item nav-link' to={ROUTES.REGISTER}>\n\t\t\t\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{isAdmin && isLogged && (\n\t\t\t\t\t\t\t\t\t<li className='nav-item '>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tclassName='nav-item nav-link text-success  '\n\t\t\t\t\t\t\t\t\t\t\tto={ROUTES.CREATE_PRODUCT}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAddProduct\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</nav>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='col-6'>\n\t\t\t\t\t\t<div className='d-flex  mt-5 justify-content-end mr-0'>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<Link to='/cart'>\n\t\t\t\t\t\t\t\t\t<FaShoppingCart\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\theight: '3rem',\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#007bff',\n\t\t\t\t\t\t\t\t\t\t\twidth: '3rem',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=' border rounded-circle'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\theight: 'rem',\n\t\t\t\t\t\t\t\t\t\tcolor: 'black',\n\t\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\t\t\tborder: 'none transparent',\n\t\t\t\t\t\t\t\t\t\twidth: '2.25rem',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{cartCount()}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Navbar;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { ShoppingContext } from '../../contexts/shopping';\n\nconst Filters = () => {\n\tconst {\n\t\tsearch,\n\t\tsetSearch,\n\t\tcategorySelection,\n\t\tsetCategorySelection,\n\t\tsetCategorysGlobal,\n\t} = useContext(ShoppingContext); //global\n\n\tconst [category, setCategory] = useState(null); //list of category\n\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tconst getCategorys = async () => {\n\t\ttry {\n\t\t\tconst res = await fetch('/api/category');\n\t\t\tconst data = await res.json();\n\t\t\t// console.log(data);\n\t\t\tsetCategory(data);\n\t\t\tsetCategorysGlobal(data);\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetError(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tlet isActive = true;\n\t\tgetCategorys();\n\t\t/*eslint-disable */\n\t\treturn () => {\n\t\t\tisActive = false;\n\t\t};\n\t\t/*eslint-enable */\n\t}, []);\n\n\tconst handleCategory = (e) => {\n\t\tconst val = e.target.value;\n\t\tsetCategorySelection(val);\n\t\t// console.log(val)\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && (\n\t\t\t\t<div className='mb-3 mt-4'>\n\t\t\t\t\tError with loading of page. Please refresh page.\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className='container mb-5 '>\n\t\t\t\t{category && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t<div className='col-8-md  mb-2'>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t{/* <label className=\"m-0\">Filter:</label> */}\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\n\t\t\t\t\t\t\t\t\t\tplaceholder='Search...'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t<div className='col-6 ml-0'>\n\t\t\t\t\t\t\t\t<span> Filters: </span>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname='category'\n\t\t\t\t\t\t\t\t\tvalue={categorySelection}\n\t\t\t\t\t\t\t\t\tonChange={handleCategory}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value='all'>All Products</option>\n\t\t\t\t\t\t\t\t\t{category.map((item) => (\n\t\t\t\t\t\t\t\t\t\t<option value={item.name} key={item._id}>\n\t\t\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Filters;\n","import React, { useState, useEffect, useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { ShoppingContext } from '../../contexts/shopping';\nimport Filters from './Filters';\nimport { UserContext } from '../../contexts/user';\n\nconst Products = () => {\n\tconst { addItem, products, setProducts, search, categorySelection } =\n\t\tuseContext(ShoppingContext); //global\n\n\tconst { isAdmin, accessToken } = useContext(UserContext);\n\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tlet newData;\n\n\tconst getProducts = async () => {\n\t\ttry {\n\t\t\tconst res = await fetch('/api/products');\n\t\t\tconst data = await res.json();\n\t\t\t// console.log(data);\n\n\t\t\tsetProducts(data);\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetError(true);\n\t\t}\n\t};\n\n\tconst deleteProduct = async (id) => {\n\t\ttry {\n\t\t\tconst res = await fetch('/api/products/' + id, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tbody: JSON.stringify({ id }),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\tAuthorization: accessToken,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tconst data = await res.json();\n\n\t\t\t// console.log(data);\n\n\t\t\tif (data !== 'item deleted') {\n\t\t\t\talert('Admin access lasts 10 mins, please refresh page and try again.');\n\t\t\t} else {\n\t\t\t\talert(data);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetError(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tlet isActive = true;\n\n\t\tgetProducts();\n\t\t/*eslint-disable */\n\t\treturn () => {\n\t\t\tisActive = false;\n\t\t};\n\t\t/*eslint-enable */\n\t}, []);\n\n\tif (categorySelection === 'all') {\n\t\tnewData = products;\n\t} else {\n\t\tnewData = products.filter(\n\t\t\t(item) => item.category.toLowerCase() === categorySelection.toLowerCase()\n\t\t);\n\t}\n\n\t//search box\n\tnewData = newData.filter((item) =>\n\t\titem.title.toLowerCase().includes(search.toLowerCase())\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && (\n\t\t\t\t<div className='mb-2'>\n\t\t\t\t\tError with loading of page. Please refresh page.\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Filters />\n\n\t\t\t<div className='container d-flex flex-row flex-wrap justify-content-between col-xs-12  col-sm-12 p-0 '>\n\t\t\t\t{newData.map((item) => {\n\t\t\t\t\t//    console.log();\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='card col-xs-12 col-sm-12 col-md-12 col-lg-5  mb-5 mt-5\n\t\t\t\t\t\t\t p-0  '\n\t\t\t\t\t\t\tid='card-css'\n\t\t\t\t\t\t\t// className='card col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 mb-3 p-0 '\n\t\t\t\t\t\t\tkey={item._id}\n\t\t\t\t\t\t\tstyle={styledObj}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={item.image} className='card-img-top' alt='' />\n\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<h2 className='card-title'>{item.title}</h2>\n\t\t\t\t\t\t\t\t<p className='card-text'>Category: {item.category}</p>\n\t\t\t\t\t\t\t\t<span>Price: £{item.price}</span>\n\t\t\t\t\t\t\t\t{isAdmin && (\n\t\t\t\t\t\t\t\t\t<p className='card-text'>Stock: {item.countInStock}</p>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<p className='card-text'>Description: {item.description}</p>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-primary border'\n\t\t\t\t\t\t\t\t\tonClick={() => addItem(item)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tBUY\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button className='btn border'>\n\t\t\t\t\t\t\t\t\t<Link to={`/products/${item._id}`}>VIEW</Link>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{isAdmin && (\n\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger border'\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteProduct(item._id)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDELETE\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button className='btn btn-warning border'>\n\t\t\t\t\t\t\t\t\t\t<Link to={`/product_amend/${item._id}`}>EDIT</Link>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\n\t\t\t{!loading && newData.length === 0 ? <h1>No items found</h1> : null}\n\t\t</>\n\t);\n};\n\nconst styledObj = {\n\t// width: '40%',\n\t// minWidth: '500px',\n};\n\nexport default Products;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\n\nimport { ShoppingContext } from '../../contexts/shopping';\n\nconst ProductDetails = () => {\n\tconst { addItem, products } = useContext(ShoppingContext); //global\n\n\tconst [product, setProduct] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tconst { id } = useParams();\n\t// console.log(id);\n\n\tuseEffect(() => {\n\t\tlet isActive = false;\n\n\t\ttry {\n\t\t\tconst getProduct = () => {\n\t\t\t\tlet item = products.filter((x) => x._id === id);\n\t\t\t\treturn item;\n\t\t\t};\n\n\t\t\tlet item = getProduct();\n\n\t\t\tsetProduct(item[0]);\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetError(true);\n\t\t}\n\t\t/*eslint-disable */\n\t\treturn () => (isActive = true);\n\t\t/*eslint-enable */\n\t}, []);\n\n\tconst { _id, title, description, price, image } = product;\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && <div>Error with loading of page. Please refresh page.</div>}\n\n\t\t\t{product ? (\n\t\t\t\t<div\n\t\t\t\t\tclassName='card col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-2 mb-2 '\n\t\t\t\t\tkey={_id}\n\t\t\t\t>\n\t\t\t\t\t<img className='card-img-top' src={image} alt={title} />\n\n\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t<h2 className='card-title'>{title}</h2>\n\t\t\t\t\t\t<span>Price: £ {price}</span>\n\t\t\t\t\t\t<p className='card-text'>{description}</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn btn-primary border'\n\t\t\t\t\t\t\tonClick={() => addItem(product)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBUY\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button className='btn border'>\n\t\t\t\t\t\t\t<Link to={ROUTES.PRODUCTS}>Back to products</Link>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<h1>Unable to display item. Please try later</h1>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default ProductDetails;\n","import React, { useContext, useEffect } from 'react';\nimport { ShoppingContext } from '../../contexts/shopping';\nimport { Link } from 'react-router-dom';\nimport { FaTrashAlt } from 'react-icons/fa';\n// import  PaypalButton from './Paypal'\nimport { clearStorage } from '../../utils/storage';\n\nimport { UserContext } from '../../contexts/user';\n\nconst Cart = () => {\n\tconst {\n\t\tcart,\n\t\tsetCart,\n\t\tincreaseQty,\n\t\treduceQty,\n\t\tremoveItem,\n\t\tclearBasket,\n\t\ttotal,\n\t\tgetTotal,\n\t} = useContext(ShoppingContext); //global\n\tconst { accessToken } = useContext(UserContext);\n\n\tuseEffect(() => {\n\t\tlet IsActive = false;\n\t\tgetTotal();\n\t\t/* eslint-disable */\n\t\treturn () => (IsActive = true);\n\t\t/* eslint-enable */\n\t}, [cart]);\n\n\tif (!cart || cart.length === 0) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<h1>No Items in basket</h1>\n\t\t\t\t<button className='btn border'>\n\t\t\t\t\t<Link to={`/products`}>CONTINUE SHOPPING</Link>\n\t\t\t\t</button>\n\t\t\t</>\n\t\t);\n\t}\n\n\tconst tranSuccess = async (payment) => {\n\t\t// console.log(payment);\n\t\tconst { paymentID, address } = payment;\n\n\t\tconst res = await fetch('/api/payments', {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({ cart, paymentID, address }),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\tcredentials: 'include',\n\t\t\t\tAuthorization: accessToken,\n\t\t\t},\n\t\t});\n\n\t\tconst data = await res.json();\n\t\t// console.log(data);\n\n\t\talert('You have successfully placed an order.');\n\n\t\t// clear cart\n\t\tsetCart([]);\n\t\t//delete local storage\n\t\tclearStorage();\n\t};\n\n\t// if (!isLogged) {\n\t// \treturn <Redirect to='/signin' />;\n\t// }\n\n\treturn (\n\t\t<>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-6 d-flex justify-content-start'>\n\t\t\t\t\t<h1 className='text-center text-uppercase text-secondary '>Cart</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-6 d-flex justify-content-end'>\n\t\t\t\t\t<h3 className='text-center'>Total - £ {total}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className='row '>\n\t\t\t\t<div className='col-12 d-flex justify-content-start'>\n\t\t\t\t\t<button className='btn btn-secondary' onClick={() => clearBasket()}>\n\t\t\t\t\t\tREMOVE ALL ITEMS\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className='row mb-5'>\n\t\t\t\t<div className='col-12 d-flex justify-content-end'>\n\t\t\t\t\t{/* <PaypalButton\n                                total={total}\n                                tranSuccess={tranSuccess} />  */}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className='container'>\n\t\t\t\t<div className='d-flex flex-row flex-wrap justify-content-between'>\n\t\t\t\t\t{cart\n\t\t\t\t\t\t? cart.map((item) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={item._id}\n\t\t\t\t\t\t\t\t\t\tclassName='card mt-2 mb-4 t h-25'\n\t\t\t\t\t\t\t\t\t\tstyle={styledObj}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img src={item.image} className='card-img-top' alt='' />\n\t\t\t\t\t\t\t\t\t\t{/* <img className=\"\" src={item.image} alt={item.title}/> */}\n\n\t\t\t\t\t\t\t\t\t\t<div className='card-body d-flex justify-content-end '>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn '\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeItem(item._id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<FaTrashAlt\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '2rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'black',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '2rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t\t\t<h1 className='card-title'>{item.title}</h1>\n\n\t\t\t\t\t\t\t\t\t\t\t<p className='card-text'>Price: £{item.price}</p>\n\t\t\t\t\t\t\t\t\t\t\t<h4>Total Price: £{item.price * item.count}</h4>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn primary border mr-2'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => reduceQty(item._id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t-{' '}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<span className=''>{item.count}</span>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn primary border ml-2'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => increaseQty(item._id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t+{' '}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<button className='btn border'>\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/products`}>CONTINUE SHOPPING</Link>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t  })\n\t\t\t\t\t\t: null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nconst styledObj = {\n\twidth: '40%',\n\tminWidth: '450px',\n};\n\nexport default Cart;\n","import React, { useState, useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { UserContext } from '../../contexts/user';\n\nconst Login = () => {\n\tconst { setAccessToken } = useContext(UserContext); //global user\n\tconst history = useHistory();\n\n\tconst [signInErr, setSignInErr] = useState('');\n\tconst [email, setemail] = useState('');\n\tconst [password, setpassword] = useState('');\n\tconst [emailErr, setemailErr] = useState('');\n\tconst [passwordErr, setpasswordErr] = useState('');\n\n\tconst handleChange = (e, name) => {\n\t\t//clear\n\t\tsetSignInErr('');\n\n\t\tconst user = {};\n\t\t/*eslint-disable */\n\t\tconst emailRegEx = RegExp(\n\t\t\t/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\t);\n\t\t/*eslint-enable */\n\t\tuser[name] = e.target.value;\n\t\t// validations\n\t\tswitch (name) {\n\t\t\tcase 'email':\n\t\t\t\tsetemail(user.email);\n\t\t\t\t!emailRegEx.test(user.email)\n\t\t\t\t\t? setemailErr('Invalid Email!')\n\t\t\t\t\t: setemailErr('');\n\t\t\t\tbreak;\n\t\t\tcase 'password':\n\t\t\t\tsetpassword(user.password);\n\t\t\t\tuser.password.length < 6\n\t\t\t\t\t? setpasswordErr('Password must be at least 6 characters!')\n\t\t\t\t\t: setpasswordErr('');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst handleSignIn = async (e) => {\n\t\te.preventDefault();\n\t\tif (email && password && !emailErr && !passwordErr) {\n\t\t\t//clear\n\t\t\tsetSignInErr('');\n\n\t\t\ttry {\n\t\t\t\tconst res = await fetch('/user/login', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: JSON.stringify({ email, password }),\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tconst data = await res.json();\n\t\t\t\t// console.log(data);\n\n\t\t\t\tif (data.errors) {\n\t\t\t\t\tsetSignInErr(data.errors);\n\t\t\t\t} else if (data.user) {\n\t\t\t\t\t// console.log(\"HERE1\");\n\t\t\t\t\tlocalStorage.setItem('firstLogin', true);\n\t\t\t\t\tsetAccessToken(data.accesstoken);\n\n\t\t\t\t\thistory.push('products');\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=' dcontainer-lg  pt-5 pb-5 mt-6 '>\n\t\t\t<div className='row d-flex justify-content-center align-items-center '>\n\t\t\t\t<div className='col-xs-12  sign-in'>\n\t\t\t\t\t<h2 className='text-start mt-3'>Sign In</h2>\n\t\t\t\t\t{signInErr && (\n\t\t\t\t\t\t<div className='alert alert-danger text-center'>\n\t\t\t\t\t\t\t<span className='text-danger text-capitalize'>{signInErr}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<form className='mt-4 ' onSubmit={handleSignIn}>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label className='mr-3' htmlFor='email'>\n\t\t\t\t\t\t\t\tEnter Email Address\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\temailErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !emailErr && email.length\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\tplaceholder='Email Address'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tautoComplete='on'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'email')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{emailErr && <small className='text-danger'>{emailErr}</small>}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label className='' htmlFor='password'>\n\t\t\t\t\t\t\t\tEnter Password\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\tpasswordErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !passwordErr && password.length\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'password')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{passwordErr && (\n\t\t\t\t\t\t\t\t<small className='text-danger'>{passwordErr}</small>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type='submit' className='btn btn-primary' value='Sign In' />\n\t\t\t\t\t</form>\n\t\t\t\t\t<p className='float-left mt-2'>\n\t\t\t\t\t\tDon't yet have an account?<Link to='/signup'>Sign up</Link>\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className='mt-2 ms-2 '>\n\t\t\t\t\t\t<Link to='/reset'>Forgot Password</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n// import Cookies from 'js-cookie';\n\nconst Register = () => {\n\tconst [signUpErr, setSignUpErr] = useState('');\n\n\tconst [name, setname] = useState('');\n\tconst [email, setemail] = useState('');\n\tconst [password, setpassword] = useState('');\n\tconst [confPassword, setconfPassword] = useState('');\n\tconst [nameErr, setnameErr] = useState('');\n\tconst [emailErr, setemailErr] = useState('');\n\tconst [passwordErr, setpasswordErr] = useState('');\n\tconst [confPasswordErr, setconfPasswordErr] = useState('');\n\tconst [success, setSuccess] = useState('');\n\tconst handleChange = (e, name) => {\n\t\t//clear\n\t\tsetSignUpErr('');\n\n\t\tconst user = {};\n\t\t/*eslint-disable */\n\t\tconst emailRegEx = RegExp(\n\t\t\t/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\t);\n\t\t/*eslint-enable */\n\t\tuser[name] = e.target.value;\n\t\t// validations\n\t\tswitch (name) {\n\t\t\tcase 'name':\n\t\t\t\tsetname(user.name);\n\t\t\t\tuser.name.length < 3\n\t\t\t\t\t? setnameErr('Name must be at least 3 characters!')\n\t\t\t\t\t: setnameErr('');\n\t\t\t\tbreak;\n\t\t\tcase 'email':\n\t\t\t\tsetemail(user.email);\n\t\t\t\t!emailRegEx.test(user.email)\n\t\t\t\t\t? setemailErr('Invalid Email!')\n\t\t\t\t\t: setemailErr('');\n\t\t\t\tbreak;\n\t\t\tcase 'password':\n\t\t\t\tsetpassword(user.password);\n\n\t\t\t\tuser.password.length < 6\n\t\t\t\t\t? setpasswordErr('Password must be at least 6 characters!')\n\t\t\t\t\t: setpasswordErr('');\n\t\t\t\tbreak;\n\t\t\tcase 'confPassword':\n\t\t\t\tsetconfPassword(user.confPassword);\n\t\t\t\tuser.confPassword !== password\n\t\t\t\t\t? setconfPasswordErr('Passwords do not match!')\n\t\t\t\t\t: setconfPasswordErr('');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst handleSignUp = async (e) => {\n\t\te.preventDefault();\n\n\t\tif (\n\t\t\tname &&\n\t\t\temail &&\n\t\t\tpassword &&\n\t\t\tconfPassword &&\n\t\t\t!nameErr &&\n\t\t\t!emailErr &&\n\t\t\t!passwordErr &&\n\t\t\t!confPasswordErr\n\t\t) {\n\t\t\t//clear\n\t\t\tsetSignUpErr('');\n\t\t\tsetSuccess('');\n\n\t\t\ttry {\n\t\t\t\tconst res = await fetch('/user/signup', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: JSON.stringify({ name, email, password }),\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tconst data = await res.json();\n\t\t\t\t// console.log(data);\n\n\t\t\t\tif (data.errors) {\n\t\t\t\t\tsetSignUpErr(data.errors);\n\t\t\t\t}\n\t\t\t\tif (data.msg) {\n\t\t\t\t\t// console.log(data);\n\n\t\t\t\t\tsetSuccess(data.msg);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err.message);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className='container-lg  pt-5 pb-5 mt-6 '>\n\t\t\t<div className='row d-flex justify-content-center align-items-center '>\n\t\t\t\t<div className='col-xs-12 sign-in '>\n\t\t\t\t\t<h2 className='text-center'>Create an Account</h2>\n\t\t\t\t\t{signUpErr && (\n\t\t\t\t\t\t<div className='alert alert-danger text-center'>\n\t\t\t\t\t\t\t<span className='text-danger text-capitalize'>{signUpErr}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{success && (\n\t\t\t\t\t\t<div className='alert alert-success text-center'>\n\t\t\t\t\t\t\t<span className='text-success text-capitalize'>{success}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<form className='mt-4' onSubmit={handleSignUp}>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label htmlFor='name'>Enter Full Name</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\tnameErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !nameErr && name.length\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='name'\n\t\t\t\t\t\t\t\tplaceholder='Full Name'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'name')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{nameErr && <small className='text-danger'>{nameErr}</small>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label htmlFor='email'>Enter Email Address</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\temailErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !emailErr && email.length\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\tplaceholder='Email Address'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'email')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{emailErr && <small className='text-danger'>{emailErr}</small>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label htmlFor='password'>Enter Password</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\tpasswordErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !passwordErr && password.length\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'password')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{passwordErr && (\n\t\t\t\t\t\t\t\t<small className='text-danger'>{passwordErr}</small>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label htmlFor='Confirm Password'>Confirm Password</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tname='confPassword'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\tconfPasswordErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !confPasswordErr && !passwordErr && confPassword\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='confPassword'\n\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'confPassword')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{confPasswordErr && (\n\t\t\t\t\t\t\t\t<small className='text-danger'>{confPasswordErr}</small>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type='submit' className='btn btn-primary' value='Sign Up' />\n\t\t\t\t\t</form>\n\t\t\t\t\t<p className='float-left'>\n\t\t\t\t\t\tAlready have an account?<Link to='/signin'>Log In</Link>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Register;\n","import React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { UserContext } from '../../contexts/user';\nimport * as ROUTES from '../../constants/routes';\n\nconst History = () => {\n\tconst { history, setHistory, accessToken, isAdmin } = useContext(UserContext); //global user\n\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tuseEffect(() => {\n\t\tlet isActive = false;\n\n\t\tconst getHistory = async () => {\n\t\t\tif (isAdmin) {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await fetch('/api/payments', {\n\t\t\t\t\t\theaders: { Authorization: accessToken },\n\t\t\t\t\t});\n\n\t\t\t\t\tconst data = await res.json();\n\t\t\t\t\t// console.log(data);\n\t\t\t\t\tsetHistory(data);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log(err.message);\n\t\t\t\t\tsetHistory([]);\n\t\t\t\t\tsetError(true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await fetch('/user/history', {\n\t\t\t\t\t\theaders: { Authorization: accessToken },\n\t\t\t\t\t});\n\n\t\t\t\t\tconst data = await res.json();\n\t\t\t\t\t// console.log(data);\n\t\t\t\t\tsetHistory(data);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log(err.message);\n\n\t\t\t\t\tsetHistory([]);\n\t\t\t\t\tsetError(true);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tgetHistory();\n\t\t/*eslint-disable */\n\t\treturn () => (isActive = true);\n\t\t/*eslint-enable */\n\t}, [accessToken, setHistory, isAdmin]);\n\n\tif (error) {\n\t\treturn <div>Error with loading of page. Please refresh page.</div>;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && <div>Error with loading of page. Please refresh page.</div>}\n\n\t\t\t{history.length > 0 ? (\n\t\t\t\t<div className='container'>\n\t\t\t\t\t<div className='row '>\n\t\t\t\t\t\t<h2>Account History</h2>\n\n\t\t\t\t\t\t<button className='btn '>\n\t\t\t\t\t\t\t<Link to={ROUTES.PRODUCTS}>Back to products</Link>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<p>You have {history.length} purchases</p>\n\n\t\t\t\t\t<table className='table table-hover '>\n\t\t\t\t\t\t<thead className='thead-dark'>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope='col'>Payment ID</th>\n\t\t\t\t\t\t\t\t<th scope='col'>Date of Purchased</th>\n\t\t\t\t\t\t\t\t<th scope='col'></th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{history.map((item) => (\n\t\t\t\t\t\t\t\t<tr key={item._id}>\n\t\t\t\t\t\t\t\t\t<td>{item.paymentID}</td>\n\t\t\t\t\t\t\t\t\t<td>{new Date(item.createdAt).toLocaleDateString()}</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<Link to={`/history/${item._id}`}>View</Link>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<p>You have 0 purchases</p>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default History;\n","import React, {useState, useEffect, useContext} from 'react'\nimport {useParams,Link} from 'react-router-dom'\nimport {UserContext} from '../../contexts/user'\nimport * as ROUTES from '../../constants/routes'\n\nfunction OrderDetails() {\n   \n\n    const { history, } = useContext(UserContext);    //global user    \n    \n    const [orderDetails, setOrderDetails] = useState([])\n\n    const {id} = useParams()\n    // console.log(id);\n\n    useEffect(() => {\n        if(id){\n            history.forEach(item =>{\n                if(item._id === id){\n                    setOrderDetails(item)\n                } \n            })\n        }\n    },[id, history])\n\n\n    if(orderDetails.length === 0) return null;\n\n    return (\n\n        \n        <div className=\"container mt-1\">\n\n            <button className=\"btn\" ><Link to={ROUTES.HISTORY}>Back to accounts</Link></button>\n\n            <table className=\"table table-bordered mt-3\">\n                <thead className=\"thead-dark\">\n                    <tr>\n                        <th>Name</th>\n                        <th>Address</th>\n                        <th>Postal Code</th>\n                        <th>Country Code</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>{orderDetails.address.recipient_name}</td>\n                        <td>{orderDetails.address.line1 + \" - \" + orderDetails.address.city}</td>\n                        <td>{orderDetails.address.postal_code}</td>\n                        <td>{orderDetails.address.country_code}</td>\n                    </tr>\n                </tbody>\n            </table>\n\n            <table className=\"table table-bordered\" >\n                <thead className=\"thead-dark\">\n                    <tr>\n                        \n                        <th>Products</th>\n                        <th>Quantity</th>\n                        <th>Price</th>\n                        <th>Total</th>\n                        <th>Dispatched</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        orderDetails.cart.map(item =>(\n                        <tr key={item._id}>\n                            <td>{item.title}</td>\n                            <td>{item.count}</td>\n                            <td>{item.price}</td>\n                            <td>£ {item.price * item.count}</td>\n                            <td>{item.Sent ? \"Yes\": \"No\"}</td>\n                           \n                        </tr>\n                        ))\n                    }\n                    \n                </tbody>\n            </table>\n            \n        </div>\n    )\n}\n\nexport default OrderDetails\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst ActivateAccount = () => {\r\n\tconst [err, setErr] = useState('');\r\n\tconst [success, setSuccess] = useState('');\r\n\r\n\t// /activation\r\n\tconst { id } = useParams();\r\n\tconsole.log(id);\r\n\r\n\tconst validate = async (id) => {\r\n\t\ttry {\r\n\t\t\tconst res = await fetch('/user/activation', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: JSON.stringify({ accesstoken: id }),\r\n\t\t\t\theaders: { 'Content-Type': 'application/json', credentials: 'include' },\r\n\t\t\t});\r\n\r\n\t\t\tconst data = await res.json();\r\n\t\t\tconsole.log(data);\r\n\r\n\t\t\tif (data.errors) {\r\n\t\t\t\tsetErr(data.errors);\r\n\t\t\t} else {\r\n\t\t\t\tsetSuccess(data.msg);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.message);\r\n\t\t\tsetErr(err.message);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlet isActive = true;\r\n\t\tvalidate(id);\r\n\r\n\t\treturn () => {\r\n\t\t\t/*eslint-disable */\r\n\t\t\tisActive = false;\r\n\t\t\t/*eslint-enable */\r\n\t\t};\r\n\t}, [id]);\r\n\r\n\treturn (\r\n\t\t<div className='alert'>\r\n\t\t\t<p className='text-danger'>{err}</p>\r\n\t\t\t<p className='text-success'>{success}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ActivateAccount;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ResetAccount = () => {\r\n\t//   const history = useHistory()\r\n\r\n\tconst [signInErr, setSignInErr] = useState('');\r\n\tconst [success, setSuccess] = useState('');\r\n\r\n\tconst [email, setemail] = useState('');\r\n\tconst [emailErr, setemailErr] = useState('');\r\n\r\n\tconst handleChange = (e, name) => {\r\n\t\t//clear\r\n\t\tsetSignInErr('');\r\n\t\tsetSuccess('');\r\n\t\tsetemailErr('');\r\n\r\n\t\tconst user = {};\r\n\t\t/*eslint-disable */\r\n\t\tconst emailRegEx = RegExp(\r\n\t\t\t/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\t\t);\r\n\r\n\t\tuser[name] = e.target.value;\r\n\t\t// validations\r\n\t\tswitch (name) {\r\n\t\t\tcase 'email':\r\n\t\t\t\tsetemail(user.email);\r\n\t\t\t\t!emailRegEx.test(user.email)\r\n\t\t\t\t\t? setemailErr('Invalid Email!')\r\n\t\t\t\t\t: setemailErr('');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSignIn = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (email && !emailErr) {\r\n\t\t\t//clear\r\n\t\t\tsetSignInErr('');\r\n\t\t\tsetSuccess('');\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await fetch('/user/forgot', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: JSON.stringify({ email }),\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tcredentials: 'include',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tconst data = await res.json();\r\n\t\t\t\t// console.log(data);\r\n\r\n\t\t\t\tif (data.errors) {\r\n\t\t\t\t\tsetSignInErr(data.errors);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSuccess(data.msg);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tsetSignInErr(err.message);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='container-lg  pt-5 pb-5 mt-6 '>\r\n\t\t\t<div className='row d-flex justify-content-center align-items-center '>\r\n\t\t\t\t<div className='col-xs-12  '>\r\n\t\t\t\t\t<h2 className='text-start mt-3'>Forgot Password</h2>\r\n\t\t\t\t\t{signInErr && (\r\n\t\t\t\t\t\t<div className='alert alert-danger text-center'>\r\n\t\t\t\t\t\t\t<span className='text-danger text-capitalize'>{signInErr}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{success && (\r\n\t\t\t\t\t\t<div className='alert alert-success text-center'>\r\n\t\t\t\t\t\t\t<span className='text-success text-capitalize'>{success}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<form className='mt-4 ' onSubmit={handleSignIn}>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label className='mr-3' htmlFor='email'>\r\n\t\t\t\t\t\t\t\tEnter Email Address\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\temailErr\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\r\n\t\t\t\t\t\t\t\t\t\t: !emailErr && email.length\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\r\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\tplaceholder='Email Address'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tautoComplete='on'\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'email')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{emailErr && <small className='text-danger'>{emailErr}</small>}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<input type='submit' className='btn btn-primary' value='Submit' />\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<p className='float-left mt-5'>\r\n\t\t\t\t\t\tBack to<Link to='/signin'>Sign in</Link>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ResetAccount;\r\n","import React, { useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nconst ResetPassword = () => {\r\n\tconst { id } = useParams();\r\n\r\n\tconst [signUpErr, setSignUpErr] = useState('');\r\n\r\n\tconst [email, setemail] = useState('');\r\n\tconst [password, setpassword] = useState('');\r\n\tconst [confPassword, setconfPassword] = useState('');\r\n\tconst [emailErr, setemailErr] = useState('');\r\n\tconst [passwordErr, setpasswordErr] = useState('');\r\n\tconst [confPasswordErr, setconfPasswordErr] = useState('');\r\n\tconst [success, setSuccess] = useState('');\r\n\tconst handleChange = (e, name) => {\r\n\t\t//clear\r\n\t\tsetSignUpErr('');\r\n\r\n\t\tconst user = {};\r\n\t\t/* eslint-disable */\r\n\t\tconst emailRegEx = RegExp(\r\n\t\t\t/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\t\t);\r\n\r\n\t\t/* eslint-enable  */\r\n\t\tuser[name] = e.target.value;\r\n\t\t// validations\r\n\t\tswitch (name) {\r\n\t\t\tcase 'email':\r\n\t\t\t\tsetemail(user.email);\r\n\t\t\t\t!emailRegEx.test(user.email)\r\n\t\t\t\t\t? setemailErr('Invalid Email!')\r\n\t\t\t\t\t: setemailErr('');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password':\r\n\t\t\t\tsetpassword(user.password);\r\n\r\n\t\t\t\tuser.password.length < 6\r\n\t\t\t\t\t? setpasswordErr('Password must be at least 6 characters!')\r\n\t\t\t\t\t: setpasswordErr('');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'confPassword':\r\n\t\t\t\tsetconfPassword(user.confPassword);\r\n\t\t\t\tuser.confPassword !== password\r\n\t\t\t\t\t? setconfPasswordErr('Passwords do not match!')\r\n\t\t\t\t\t: setconfPasswordErr('');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSignUp = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (\r\n\t\t\temail &&\r\n\t\t\tpassword &&\r\n\t\t\tconfPassword &&\r\n\t\t\t!emailErr &&\r\n\t\t\t!passwordErr &&\r\n\t\t\t!confPasswordErr\r\n\t\t) {\r\n\t\t\t//clear\r\n\t\t\tsetSignUpErr('');\r\n\t\t\tsetSuccess('');\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await fetch('/user/reset', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: JSON.stringify({ email, password, accesstoken: id }),\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tcredentials: 'include',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tconst data = await res.json();\r\n\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\tif (data.errors) {\r\n\t\t\t\t\tsetSignUpErr(data.errors);\r\n\t\t\t\t}\r\n\t\t\t\tif (data.msg) {\r\n\t\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\t\tsetSuccess(data.msg);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err.message);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='container-lg  pt-5 pb-5 mt-6 '>\r\n\t\t\t<div className='row d-flex justify-content-center align-items-center '>\r\n\t\t\t\t<div className='col-xs-12 '>\r\n\t\t\t\t\t<h2 className='text-center'>Create your Password</h2>\r\n\t\t\t\t\t{signUpErr && (\r\n\t\t\t\t\t\t<div className='alert alert-danger text-center'>\r\n\t\t\t\t\t\t\t<span className='text-danger text-capitalize'>{signUpErr}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{success && (\r\n\t\t\t\t\t\t<div className='alert alert-success text-center'>\r\n\t\t\t\t\t\t\t<span className='text-success text-capitalize'>{success}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<form className='mt-4' onSubmit={handleSignUp}>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label htmlFor='email'>Enter Email Address</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\temailErr\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\r\n\t\t\t\t\t\t\t\t\t\t: !emailErr && email.length\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\r\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\tplaceholder='Email Address'\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'email')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{emailErr && <small className='text-danger'>{emailErr}</small>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label htmlFor='password'>Enter Password</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\tpasswordErr\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\r\n\t\t\t\t\t\t\t\t\t\t: !passwordErr && password.length\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\r\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'password')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{passwordErr && (\r\n\t\t\t\t\t\t\t\t<small className='text-danger'>{passwordErr}</small>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label htmlFor='Confirm Password'>Confirm Password</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\tname='confPassword'\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\tconfPasswordErr\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\r\n\t\t\t\t\t\t\t\t\t\t: !confPasswordErr && !passwordErr && confPassword\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\r\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid='confPassword'\r\n\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'confPassword')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{confPasswordErr && (\r\n\t\t\t\t\t\t\t\t<small className='text-danger'>{confPasswordErr}</small>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input type='submit' className='btn btn-primary' value='Submit' />\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<p className='float-left mt-5'>\r\n\t\t\t\t\t\t<Link to='/signin'>Log In</Link>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ResetPassword;\r\n","import React, { useState, useContext, useEffect } from 'react';\n\nimport { UserContext } from '../../contexts/user';\nimport { ShoppingContext } from '../../contexts/shopping';\n\nconst initialState = {\n\ttitle: '',\n\timage: '',\n\tprice: '',\n\tdescription: '',\n\tcategory: '',\n\tcountInStock: '',\n};\n\nfunction CreateProduct() {\n\tconst { isAdmin, accessToken } = useContext(UserContext); //global user\n\tconst { categorysGlobal, setCategorysGlobal } = useContext(ShoppingContext); // global products\n\n\tconst [product, setProduct] = useState(initialState);\n\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tconst getCategorys = async () => {\n\t\ttry {\n\t\t\tconst res = await fetch('/api/category');\n\t\t\tconst data = await res.json();\n\n\t\t\tsetCategorysGlobal(data);\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetLoading(false);\n\t\t\tsetError(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tlet isActive = true;\n\n\t\tgetCategorys();\n\t\t/*eslint-disable */\n\t\treturn () => {\n\t\t\tisActive = false;\n\t\t};\n\t\t/*eslint-enable */\n\t}, []);\n\n\tconst handleChangeInput = (e) => {\n\t\tconst { name, value } = e.target;\n\n\t\tif ((name === 'price' || name === 'countInStock') && value < 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetProduct({ ...product, [name]: value });\n\t};\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tif (!isAdmin) return alert('Unauthorised');\n\n\t\t\tif (product.category === '') {\n\t\t\t\talert('Please select a category');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// console.log(product);\n\n\t\t\tconst res = await fetch('/api/products/add', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify({ ...product }),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\tAuthorization: accessToken,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tconst data = await res.json();\n\t\t\tconsole.log(data);\n\t\t\tif (data !== 'item added') {\n\t\t\t\talert('Admin access lasts 10 mins, please refresh page and try again.');\n\t\t\t} else {\n\t\t\t\talert(data);\n\t\t\t\tsetProduct(initialState);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\talert(err.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && <div>Error with loading of page. Please refresh page.</div>}\n\n\t\t\t{categorysGlobal && (\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Title</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tplaceholder='Shirt'\n\t\t\t\t\t\t\tvalue={product.title}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Image</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='image'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tplaceholder='https://images.unsplash.com/photo-1606813907291-d86efa9b94db?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80'\n\t\t\t\t\t\t\tvalue={product.image}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Price</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\tname='price'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tplaceholder='1.00'\n\t\t\t\t\t\t\tvalue={product.price}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Description</label>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tplaceholder='Lorem ipsum dolor sit amet consectetur adipisicing elit. Non assumenda maiores vero, consequuntur'\n\t\t\t\t\t\t\tvalue={product.description}\n\t\t\t\t\t\t\trows='5'\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Categories: </label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname='category'\n\t\t\t\t\t\t\tvalue={product.category}\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=''>Please select a category</option>\n\t\t\t\t\t\t\t{categorysGlobal.map((category) => (\n\t\t\t\t\t\t\t\t<option value={category.name} key={category._id}>\n\t\t\t\t\t\t\t\t\t{category.name}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Stock Count</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\tname='countInStock'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tplaceholder='0'\n\t\t\t\t\t\t\tvalue={product.countInStock}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button className='btn btn-primary' type='submit'>\n\t\t\t\t\t\tAdd\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default CreateProduct;\n","import React, { useState, useEffect, useContext } from 'react';\nimport * as ROUTES from '../../constants/routes';\n\nimport { UserContext } from '../../contexts/user';\nimport { ShoppingContext } from '../../contexts/shopping';\nimport { useParams, Link } from 'react-router-dom';\n\nfunction AmendProduct() {\n\tconst { id } = useParams();\n\n\tconst { isAdmin, accessToken } = useContext(UserContext); //global user\n\tconst { categorysGlobal, products } = useContext(ShoppingContext); // global products\n\n\tconst [product, setProduct] = useState();\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tuseEffect(() => {\n\t\tlet isActive = false;\n\t\ttry {\n\t\t\tconst getProduct = () => {\n\t\t\t\tlet amendProduct = products.filter((x) => x._id === id);\n\t\t\t\treturn amendProduct;\n\t\t\t};\n\n\t\t\tlet item = getProduct();\n\t\t\t// console.log(amendProduct);\n\t\t\tsetProduct(item[0]);\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetError(true);\n\t\t}\n\t\t/*eslint-disable */\n\t\treturn () => (isActive = true);\n\t\t/*eslint-enable */\n\t}, []);\n\n\tconst handleChangeInput = (e) => {\n\t\t// console.log(\"HERE\");\n\n\t\tconst { name, value } = e.target;\n\t\tconsole.log(name, value);\n\n\t\tif ((name === 'price' || name === 'countInStock') && value < 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetProduct({ ...product, [name]: value });\n\t};\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tif (!isAdmin) return alert('Unauthorised');\n\n\t\t\tif (product.category === '') {\n\t\t\t\talert('Please select a category');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconsole.log(product);\n\n\t\t\tconst res = await fetch('/api/products/update/' + id, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify({ ...product }),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\tAuthorization: accessToken,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tconst data = await res.json();\n\t\t\tconsole.log(data);\n\t\t\tif (data !== 'item updated') {\n\t\t\t\talert('Admin access lasts 10 mins, please refresh page and try again.');\n\t\t\t} else {\n\t\t\t\talert(data);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\talert(err.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && <div>Error with loading of page. Please refresh page.</div>}\n\n\t\t\t{product && (\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Title</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={product.title}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Image</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='image'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={product.image}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Price</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\tname='price'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={product.price}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Description</label>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={product.description}\n\t\t\t\t\t\t\trows='5'\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Categories: </label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname='category'\n\t\t\t\t\t\t\tvalue={product.category}\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{categorysGlobal.map((category) => (\n\t\t\t\t\t\t\t\t<option value={category.name} key={category._id}>\n\t\t\t\t\t\t\t\t\t{category.name}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Stock Count</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\tname='countInStock'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={product.countInStock}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button className='btn btn-primary' type='submit'>\n\t\t\t\t\t\tSave\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className='btn border'>\n\t\t\t\t\t\t<Link to={ROUTES.PRODUCTS}>Back to products</Link>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div></div>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default AmendProduct;\n","import * as ROUTES from '../constants/routes';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Home from '../components/Home';\nimport Error from '../components/Error';\nimport Navbar from '../components/Navbar';\n\nimport Products from '../components/products/Products';\nimport ProductDetails from '../components/products/ProductDetails';\n\nimport Cart from '../components/cart/Cart';\n\nimport Login from '../components/accounts/Login';\nimport Register from '../components/accounts/Register';\nimport History from '../components/accounts/History';\nimport OrderDetails from '../components/accounts/orderDetails';\n\n//activate account for first login\nimport ActivateAccount from '../components/accounts/ActivateAccount';\n//request a new password\nimport ResetAccount from '../components/accounts/ResetAccount';\n//request a new password\nimport ResetPassword from '../components/accounts/ResetPassword';\n\n//admin\nimport CreateProduct from '../components/admin/products';\nimport AmendProduct from '../components/admin/amendProducts';\n\nconst Pages = () => {\n\treturn (\n\t\t<>\n\t\t\t<Router>\n\t\t\t\t<Navbar />\n\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path={ROUTES.HOME} component={Home} />\n\n\t\t\t\t\t<Route exact path={ROUTES.PRODUCTS} component={Products} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath={ROUTES.PRODUCTS + '/:id'}\n\t\t\t\t\t\tcomponent={ProductDetails}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path={ROUTES.CART} component={Cart}></Route>\n\n\t\t\t\t\t<Route exact path={ROUTES.HISTORY} component={History} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath={ROUTES.HISTORY + '/:id'}\n\t\t\t\t\t\tcomponent={OrderDetails}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Route path={ROUTES.LOGIN} component={Login} />\n\t\t\t\t\t<Route path={ROUTES.REGISTER} component={Register} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath={ROUTES.ACTIVATE + '/:id'}\n\t\t\t\t\t\tcomponent={ActivateAccount}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path={ROUTES.RESET} component={ResetAccount} exact />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath={ROUTES.RESETPASSWORD + '/:id'}\n\t\t\t\t\t\tcomponent={ResetPassword}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Route path={ROUTES.CREATE_PRODUCT} exact component={CreateProduct} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath={ROUTES.AMEND_PRODUCT + '/:id'}\n\t\t\t\t\t\tcomponent={AmendProduct}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Route path='*'>\n\t\t\t\t\t\t<Error />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</>\n\t);\n};\n\nexport default Pages;\n","import React, { useEffect, useContext } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Pages from './pages/Pages';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { getStorage } from './utils/storage';\nimport { ShoppingContext } from './contexts/shopping';\nimport { UserContext } from './contexts/user';\n\nfunction App() {\n\tconst { setCart } = useContext(ShoppingContext); //global shopping cart\n\tconst { setAccessToken } = useContext(UserContext); //global user\n\n\tuseEffect(() => {\n\t\tconst storage = getStorage();\n\n\t\tif (storage) {\n\t\t\tsetCart(storage);\n\t\t}\n\t\t// console.log(storage);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst firstLogin = localStorage.getItem('firstLogin');\n\n\t\tif (firstLogin) {\n\t\t\tconst refreshToken = async () => {\n\t\t\t\tconst res = await fetch('/user/refresh_token', {\n\t\t\t\t\tcredentials: 'include',\n\t\t\t\t});\n\n\t\t\t\tconst data = await res.json();\n\n\t\t\t\t//get a new acccess token if cookie held\n\t\t\t\tif (data.accesstoken) {\n\t\t\t\t\tsetAccessToken(data.accesstoken);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\trefreshToken();\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<div className='container-lg  h-100 '>\n\t\t\t<Router>\n\t\t\t\t<Pages />\n\t\t\t</Router>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport ShoppingProvider from './contexts/shopping';\nimport UserProvider from './contexts/user';\nimport { disableReactDevTools } from '@fvilers/disable-react-devtools';\n\nif (process.env.NODE_ENV === 'production') disableReactDevTools();\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<UserProvider>\n\t\t\t<ShoppingProvider>\n\t\t\t\t<App />\n\t\t\t</ShoppingProvider>\n\t\t</UserProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}