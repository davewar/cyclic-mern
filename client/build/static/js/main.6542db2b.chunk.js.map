{"version":3,"sources":["constants/routes.js","components/Home.js","components/Error.js","utils/storage.js","contexts/shopping.js","contexts/user.js","components/Navbar.js","components/products/Filters.js","components/products/Products.js","components/products/ProductDetails.js","components/cart/PayPal.js","components/cart/Cart.js","components/accounts/Login.js","components/accounts/Register.js","components/accounts/History.js","components/accounts/orderDetails.js","components/accounts/ActivateAccount.js","components/accounts/ResetAccount.js","components/accounts/ResetPassword.js","components/admin/products.js","components/admin/amendProducts.js","pages/Pages.js","App.js","index.js"],"names":["PRODUCTS","REGISTER","LOGIN","CREATE_PRODUCT","HISTORY","Home","className","onClick","window","open","Error","to","addToStorage","item","localStorage","setItem","JSON","stringify","clearStorage","removeItem","ShoppingContext","createContext","ShoppingProvider","children","useState","products","setProducts","total","setTotal","cart","setCart","categorysGlobal","setCategorysGlobal","categorySelection","setCategorySelection","search","setSearch","Provider","value","addItem","price","_id","title","image","countInStock","obj","count","every","newList","alert","map","reduceQty","id","increaseQty","filter","clearBasket","getTotal","totalSum","reduce","prev","UserContext","UserProvider","user","setUser","accessToken","setAccessToken","isLogged","setIsLogged","isAdmin","setIsAdmin","history","setHistory","useEffect","a","fetch","headers","Authorization","res","json","data","name","role","console","log","message","getUser","Navbar","useContext","logOutUser","ROUTES","style","height","color","width","fontWeight","border","forEach","val","cartCount","Filters","category","setCategory","loading","setLoading","error","setError","getCategorys","type","onChange","e","target","placeholder","styledObj","Products","newData","getProducts","deleteProduct","method","body","credentials","toLowerCase","includes","src","alt","description","length","ProductDetails","product","setProduct","useParams","x","err","PayPal","tranSuccess","React","paid","setPaid","paypalRef","useRef","paypal","Buttons","createOrder","actions","order","create","intent","purchase_units","amount","currency_code","onApprove","capture","onError","render","current","ref","Cart","checkout","setCheckOut","payment","paymentID","address","payer","Login","useHistory","signInErr","setSignInErr","email","setemail","password","setpassword","emailErr","setemailErr","passwordErr","setpasswordErr","handleChange","emailRegEx","RegExp","test","handleSignIn","preventDefault","errors","accesstoken","push","onSubmit","htmlFor","required","autoComplete","Register","signUpErr","setSignUpErr","setname","confPassword","setconfPassword","nameErr","setnameErr","confPasswordErr","setconfPasswordErr","success","setSuccess","handleSignUp","msg","History","getHistory","scope","Date","createdAt","toLocaleDateString","OrderDetails","orderDetails","setOrderDetails","recipient_name","line1","city","postal_code","country_code","Sent","ActivateAccount","setErr","validate","ResetAccount","ResetPassword","initialState","CreateProduct","handleChangeInput","handleSubmit","rows","AmendProduct","Pages","exact","path","component","App","storage","parse","getItem","refreshToken","disableReactDevTools","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6542db2b.chunk.js","sourcesContent":["export const HOME = '/';\nexport const PRODUCTS = '/products';\nexport const CART = '/cart';\nexport const REGISTER = '/signup';\nexport const LOGIN = '/signin';\nexport const CONTACT = '/contact';\nexport const CREATE_PRODUCT = '/product_create';\nexport const AMEND_PRODUCT = '/product_amend';\nexport const HISTORY = '/history';\nexport const ACTIVATE = '/user/activate';\nexport const RESET = '/reset';\nexport const RESETPASSWORD = '/reset_password';\n\n\n\n\n","import React from 'react';\n\nconst Home = () => {\n\treturn (\n\t\t<div className='container-lg  pt-5 pb-5 mt-6 '>\n\t\t\t<div className='row d-flex justify-content-center align-items-center '>\n\t\t\t\t<div className='col-xs-12'>\n\t\t\t\t\t<h1 className='text-center mt-5 '>Welcome to My fullstack Website</h1>\n\n\t\t\t\t\t<h5 className='mt-5'>FrontEnd</h5>\n\n\t\t\t\t\t<ul className='list-unstyled'>\n\t\t\t\t\t\t<li>- React</li>\n\t\t\t\t\t\t<li>- Bootstrap</li>\n\t\t\t\t\t\t<li>- Paypal</li>\n\t\t\t\t\t\t<li>- Login/Register </li>\n\t\t\t\t\t\t<li>- Admin user - Add / Delete / Amend Products</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t- Activate account by validating email address of user\n\t\t\t\t\t\t\t(Nodemailer)\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>- Password Reset (Nodemailer)</li>\n\t\t\t\t\t\t<li>- Account locked - password incorrect three times in a row</li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<h5 className='mt-5'>BackEnd</h5>\n\t\t\t\t\t<ul className='list-unstyled'>\n\t\t\t\t\t\t<li>- NodeJS</li>\n\t\t\t\t\t\t<li>- Express</li>\n\t\t\t\t\t\t<li>- MongoDB</li>\n\t\t\t\t\t\t<li>{`- JWT AccessToken && RefreshToken + HTTP only cookie`}</li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-primary'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\twindow.open('https://github.com/davewar?tab=repositories');\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tGitHub Code\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Home;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nconst Error = () => {\n  return (\n    <div>\n      <h1>Error Page</h1>\n      <Link to='/'>Back Home</Link>\n    </div>\n  );\n};\n\nexport default Error;\n","\nexport const addToStorage =(item)=>{\n            // console.log(cart);\n    localStorage.setItem(\"basket\", JSON.stringify(item))\n    \n}\n\nexport const getStorage = ()=>{\n\n    const data = JSON.parse(localStorage.getItem(\"basket\"))\n    return data\n}\n\nexport const clearStorage = ()=>{\n\n    localStorage.removeItem(\"basket\")\n    \n}","import React, { createContext, useState } from 'react';\n\nimport { addToStorage, clearStorage } from '../utils/storage';\n\nexport const ShoppingContext = createContext();\n\nconst ShoppingProvider = ({ children }) => {\n\tconst [products, setProducts] = useState([]);\n\tconst [total, setTotal] = useState(0);\n\tconst [cart, setCart] = useState([]);\n\tconst [categorysGlobal, setCategorysGlobal] = useState([]);\n\n\t// Filter component\n\tconst [categorySelection, setCategorySelection] = useState('all'); // selected category\n\t//search input box\n\tconst [search, setSearch] = useState('');\n\n\t//add\n\t// console.log(cart);\n\n\tconst addItem = (addItem) => {\n\t\t// console.log(item)\n\t\tconst { price, _id, title, image, countInStock } = addItem;\n\n\t\tlet obj = { _id, title, price, countInStock, image, count: 1 };\n\t\t// console.log(obj)\n\n\t\t//in basket already?\n\t\tconst inBasket = cart.every((item) => item._id !== _id);\n\t\t// console.log(inBasket)\n\n\t\t//not in basket -ie false\n\t\tif (inBasket) {\n\t\t\tconst newList = [...cart, obj];\n\t\t\t// setCart([...cart,obj])\n\t\t\tsetCart(newList);\n\t\t\taddToStorage(newList); // add to storage\n\t\t\talert('Item added to cart.');\n\t\t} else {\n\t\t\t//in basket - true\n\t\t\tconst newList = cart.map((item) => {\n\t\t\t\tif (item._id === _id) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tcount: item.count + 1,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn item;\n\t\t\t});\n\n\t\t\tsetCart(newList);\n\t\t\taddToStorage(newList); // add to storage\n\t\t\talert('Item added to cart.');\n\t\t}\n\t};\n\n\t//reduce qty\n\tconst reduceQty = (id) => {\n\t\tconst newList = cart.map((item) => {\n\t\t\tif (item._id === id) {\n\t\t\t\t// no items below one\n\t\t\t\tif (item.count === 1) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tcount: (item.count = 1),\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tcount: item.count - 1,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn item;\n\t\t});\n\n\t\tsetCart(newList);\n\t\taddToStorage(newList); // add to storage\n\t};\n\n\t//increase qty\n\n\tconst increaseQty = (id) => {\n\t\tconst newList = cart.map((item) => {\n\t\t\tif (item._id === id) {\n\t\t\t\treturn {\n\t\t\t\t\t...item,\n\t\t\t\t\tcount: item.count + 1,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn item;\n\t\t});\n\n\t\tsetCart(newList);\n\t\taddToStorage(newList); // add to storage\n\t};\n\n\t//remove\n\tconst removeItem = (id) => {\n\t\tconst newList = cart.filter((item) => item._id !== id);\n\n\t\tsetCart(newList);\n\t\taddToStorage(newList); // add to storage\n\t};\n\n\t//remove\n\tconst clearBasket = () => {\n\t\tsetCart([]);\n\t\tsetTotal(0);\n\n\t\tclearStorage(); // remove storage\n\t};\n\n\tconst getTotal = () => {\n\t\tconst totalSum = cart.reduce((prev, item) => {\n\t\t\treturn prev + item.price * item.count;\n\t\t}, 0);\n\t\t// console.log(totalSum);\n\t\tsetTotal(totalSum);\n\t};\n\n\treturn (\n\t\t<ShoppingContext.Provider\n\t\t\tvalue={{\n\t\t\t\tproducts,\n\t\t\t\tsetProducts,\n\t\t\t\tcart,\n\t\t\t\tsetCart,\n\t\t\t\taddItem,\n\t\t\t\treduceQty,\n\t\t\t\tincreaseQty,\n\t\t\t\tremoveItem,\n\t\t\t\tclearBasket,\n\t\t\t\ttotal,\n\t\t\t\tgetTotal,\n\n\t\t\t\tcategorySelection,\n\t\t\t\tsetCategorySelection,\n\t\t\t\tsearch,\n\t\t\t\tsetSearch,\n\n\t\t\t\tcategorysGlobal,\n\t\t\t\tsetCategorysGlobal,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</ShoppingContext.Provider>\n\t);\n};\n\nexport default ShoppingProvider;\n","import React, { createContext, useEffect, useState } from 'react';\n\nexport const UserContext = createContext();\n\nconst UserProvider = ({ children }) => {\n\tconst [user, setUser] = useState('');\n\tconst [accessToken, setAccessToken] = useState('');\n\tconst [isLogged, setIsLogged] = useState(false);\n\tconst [isAdmin, setIsAdmin] = useState(false);\n\tconst [history, setHistory] = useState([]);\n\n\t// finds out if logged user is admin or customer\n\tuseEffect(() => {\n\t\tif (accessToken) {\n\t\t\tconst getUser = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await fetch('/user/infor', {\n\t\t\t\t\t\theaders: { Authorization: accessToken },\n\t\t\t\t\t});\n\n\t\t\t\t\tconst data = await res.json();\n\n\t\t\t\t\t// console.log(\"GETUSER\",data)\n\n\t\t\t\t\tsetIsLogged(true);\n\t\t\t\t\tsetUser(data.name);\n\t\t\t\t\tdata.role === 1 ? setIsAdmin(true) : setIsAdmin(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log('DW', err.message);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tgetUser();\n\t\t}\n\t}, [accessToken]);\n\n\treturn (\n\t\t<UserContext.Provider\n\t\t\tvalue={{\n\t\t\t\tuser,\n\t\t\t\tsetUser,\n\t\t\t\tisLogged,\n\t\t\t\tsetIsLogged,\n\t\t\t\tisAdmin,\n\t\t\t\tsetIsAdmin,\n\t\t\t\taccessToken,\n\t\t\t\tsetAccessToken,\n\t\t\t\thistory,\n\t\t\t\tsetHistory,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</UserContext.Provider>\n\t);\n};\n\nexport default UserProvider;\n","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\nimport { FaShoppingCart } from 'react-icons/fa';\nimport { ShoppingContext } from '../contexts/shopping';\nimport { UserContext } from '../contexts/user';\n\nconst Navbar = () => {\n\tconst { cart } = useContext(ShoppingContext); //global\n\tconst {\n\t\tisLogged,\n\t\tisAdmin,\n\t\tsetIsLogged,\n\t\tsetIsAdmin,\n\t\tsetAccessToken,\n\t\tsetUser,\n\t\tuser,\n\t} = useContext(UserContext); //global\n\n\t//items in basket\n\tconst cartCount = () => {\n\t\tlet count = 0;\n\t\tif (!cart) {\n\t\t\treturn count;\n\t\t}\n\n\t\tcart.forEach((item) => {\n\t\t\tlet val = item.count;\n\t\t\tcount += val;\n\t\t});\n\t\treturn count;\n\t};\n\n\tconst logOutUser = async () => {\n\t\t//remove cookie\n\t\tawait fetch('/user/logout');\n\t\t//remove ls\n\t\tlocalStorage.removeItem('firstLogin');\n\n\t\tsetIsLogged(false);\n\t\tsetIsAdmin(false);\n\t\tsetAccessToken('');\n\t\tsetUser('');\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className='container-lg'>\n\t\t\t\t{user && (\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t<h4 className='mt-2 d-flex justify-content-center'>{user}</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className='row mt-5'>\n\t\t\t\t\t<div className='col-6 pl-0 pr-0'>\n\t\t\t\t\t\t<nav className=' navbar-nav navbar-expand-md navbar-light'>\n\t\t\t\t\t\t\t<ul className='navbar-nav justify-content-between'>\n\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t<Link className='nav-item nav-link active' to={ROUTES.HOME}>\n\t\t\t\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t<Link className='nav-item nav-link' to={ROUTES.PRODUCTS}>\n\t\t\t\t\t\t\t\t\t\tProducts\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t{isLogged && (\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link className='nav-item nav-link' to={ROUTES.HISTORY}>\n\t\t\t\t\t\t\t\t\t\t\tAccount\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{!isLogged && (\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link className='nav-item nav-link' to={ROUTES.LOGIN}>\n\t\t\t\t\t\t\t\t\t\t\tSignIn\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{isLogged && (\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tclassName='nav-item nav-link'\n\t\t\t\t\t\t\t\t\t\t\tonClick={logOutUser}\n\t\t\t\t\t\t\t\t\t\t\tto={ROUTES.HOME}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tSignOut\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{!isLogged && (\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link className='nav-item nav-link' to={ROUTES.REGISTER}>\n\t\t\t\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{isAdmin && isLogged && (\n\t\t\t\t\t\t\t\t\t<li className='nav-item '>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tclassName='nav-item nav-link text-success  '\n\t\t\t\t\t\t\t\t\t\t\tto={ROUTES.CREATE_PRODUCT}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAddProduct\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</nav>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='col-6'>\n\t\t\t\t\t\t<div className='d-flex  mt-5 justify-content-end mr-0'>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<Link to='/cart'>\n\t\t\t\t\t\t\t\t\t<FaShoppingCart\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\theight: '3rem',\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#007bff',\n\t\t\t\t\t\t\t\t\t\t\twidth: '3rem',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=' border rounded-circle'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\theight: 'rem',\n\t\t\t\t\t\t\t\t\t\tcolor: 'black',\n\t\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\t\t\t\tborder: 'none transparent',\n\t\t\t\t\t\t\t\t\t\twidth: '2.25rem',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{cartCount()}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Navbar;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { ShoppingContext } from '../../contexts/shopping';\n\nconst Filters = () => {\n\tconst {\n\t\tsearch,\n\t\tsetSearch,\n\t\tcategorySelection,\n\t\tsetCategorySelection,\n\t\tsetCategorysGlobal,\n\t} = useContext(ShoppingContext); //global\n\n\tconst [category, setCategory] = useState(null); //list of category\n\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tconst getCategorys = async () => {\n\t\ttry {\n\t\t\tconst res = await fetch('/api/category');\n\t\t\tconst data = await res.json();\n\t\t\t// console.log(data);\n\t\t\tsetCategory(data);\n\t\t\tsetCategorysGlobal(data);\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetError(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tlet isActive = true;\n\t\tgetCategorys();\n\t\t/*eslint-disable */\n\t\treturn () => {\n\t\t\tisActive = false;\n\t\t};\n\t\t/*eslint-enable */\n\t}, []);\n\n\tconst handleCategory = (e) => {\n\t\tconst val = e.target.value;\n\t\tsetCategorySelection(val);\n\t\t// console.log(val)\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && (\n\t\t\t\t<div className='mb-3 mt-4'>\n\t\t\t\t\tError with loading of page. Please refresh page.\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className='container mb-5 '>\n\t\t\t\t{category && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t<div className='col-8-md  mb-2'>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t{/* <label className=\"m-0\">Filter:</label> */}\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\n\t\t\t\t\t\t\t\t\t\tplaceholder='Search...'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t<div className='col-6 ml-0'>\n\t\t\t\t\t\t\t\t<span> Filters: </span>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tname='category'\n\t\t\t\t\t\t\t\t\tvalue={categorySelection}\n\t\t\t\t\t\t\t\t\tonChange={handleCategory}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value='all'>All Products</option>\n\t\t\t\t\t\t\t\t\t{category.map((item) => (\n\t\t\t\t\t\t\t\t\t\t<option value={item.name} key={item._id}>\n\t\t\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Filters;\n","import React, { useState, useEffect, useContext } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport { ShoppingContext } from '../../contexts/shopping';\nimport Filters from './Filters';\nimport { UserContext } from '../../contexts/user';\n\nconst Products = () => {\n\tconst { addItem, products, setProducts, search, categorySelection } =\n\t\tuseContext(ShoppingContext); //global\n\n\tconst { isAdmin, accessToken } = useContext(UserContext);\n\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tlet newData;\n\n\tconst getProducts = async () => {\n\t\ttry {\n\t\t\tconst res = await fetch('/api/products');\n\t\t\tconst data = await res.json();\n\t\t\t// console.log(data);\n\n\t\t\tsetProducts(data);\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetError(true);\n\t\t}\n\t};\n\n\tconst deleteProduct = async (id) => {\n\t\ttry {\n\t\t\tconst res = await fetch('/api/products/' + id, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tbody: JSON.stringify({ id }),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\tAuthorization: accessToken,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tconst data = await res.json();\n\n\t\t\t// console.log(data);\n\n\t\t\tif (data !== 'item deleted') {\n\t\t\t\talert('Admin access lasts 10 mins, please refresh page and try again.');\n\t\t\t} else {\n\t\t\t\talert(data);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetError(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tlet isActive = true;\n\n\t\tgetProducts();\n\t\t/*eslint-disable */\n\t\treturn () => {\n\t\t\tisActive = false;\n\t\t};\n\t\t/*eslint-enable */\n\t}, []);\n\n\tif (categorySelection === 'all') {\n\t\tnewData = products;\n\t} else {\n\t\tnewData = products.filter(\n\t\t\t(item) => item.category.toLowerCase() === categorySelection.toLowerCase()\n\t\t);\n\t}\n\n\t//search box\n\tnewData = newData.filter((item) =>\n\t\titem.title.toLowerCase().includes(search.toLowerCase())\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && (\n\t\t\t\t<div className='mb-2'>\n\t\t\t\t\tError with loading of page. Please refresh page.\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Filters />\n\n\t\t\t<div className='container d-flex flex-row flex-wrap justify-content-between col-xs-12  col-sm-12 p-0 '>\n\t\t\t\t{newData.map((item) => {\n\t\t\t\t\t//    console.log();\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName='card col-xs-12 col-sm-12 col-md-12 col-lg-5  mb-5 mt-5\n\t\t\t\t\t\t\t p-0  '\n\t\t\t\t\t\t\tid='card-css'\n\t\t\t\t\t\t\t// className='card col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 mb-3 p-0 '\n\t\t\t\t\t\t\tkey={item._id}\n\t\t\t\t\t\t\tstyle={styledObj}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={item.image} className='card-img-top' alt='' />\n\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<h2 className='card-title'>{item.title}</h2>\n\t\t\t\t\t\t\t\t<p className='card-text'>Category: {item.category}</p>\n\t\t\t\t\t\t\t\t<span>Price: £{item.price}</span>\n\t\t\t\t\t\t\t\t{isAdmin && (\n\t\t\t\t\t\t\t\t\t<p className='card-text'>Stock: {item.countInStock}</p>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<p className='card-text'>Description: {item.description}</p>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-primary border'\n\t\t\t\t\t\t\t\t\tonClick={() => addItem(item)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tBUY\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button className='btn border'>\n\t\t\t\t\t\t\t\t\t<Link to={`/products/${item._id}`}>VIEW</Link>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{isAdmin && (\n\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger border'\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteProduct(item._id)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDELETE\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button className='btn btn-warning border'>\n\t\t\t\t\t\t\t\t\t\t<Link to={`/product_amend/${item._id}`}>EDIT</Link>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\n\t\t\t{!loading && newData.length === 0 ? <h1>No items found</h1> : null}\n\t\t</>\n\t);\n};\n\nconst styledObj = {\n\t// width: '40%',\n\t// minWidth: '500px',\n};\n\nexport default Products;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\n\nimport { ShoppingContext } from '../../contexts/shopping';\n\nconst ProductDetails = () => {\n\tconst { addItem, products } = useContext(ShoppingContext); //global\n\n\tconst [product, setProduct] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tconst { id } = useParams();\n\t// console.log(id);\n\n\tuseEffect(() => {\n\t\tlet isActive = false;\n\n\t\ttry {\n\t\t\tconst getProduct = () => {\n\t\t\t\tlet item = products.filter((x) => x._id === id);\n\t\t\t\treturn item;\n\t\t\t};\n\n\t\t\tlet item = getProduct();\n\n\t\t\tsetProduct(item[0]);\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetError(true);\n\t\t}\n\t\t/*eslint-disable */\n\t\treturn () => (isActive = true);\n\t\t/*eslint-enable */\n\t}, []);\n\n\tconst { _id, title, description, price, image } = product;\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && <div>Error with loading of page. Please refresh page.</div>}\n\n\t\t\t{product ? (\n\t\t\t\t<div\n\t\t\t\t\tclassName='card col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-2 mb-2 '\n\t\t\t\t\tkey={_id}\n\t\t\t\t>\n\t\t\t\t\t<img className='card-img-top' src={image} alt={title} />\n\n\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t<h2 className='card-title'>{title}</h2>\n\t\t\t\t\t\t<span>Price: £ {price}</span>\n\t\t\t\t\t\t<p className='card-text'>{description}</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn btn-primary border'\n\t\t\t\t\t\t\tonClick={() => addItem(product)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBUY\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button className='btn border'>\n\t\t\t\t\t\t\t<Link to={ROUTES.PRODUCTS}>Back to products</Link>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<h1>Unable to display item. Please try later</h1>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default ProductDetails;\n","import React from 'react';\r\n\r\nexport default function PayPal({ total, tranSuccess }) {\r\n\tconst [paid, setPaid] = React.useState(false);\r\n\tconst [error, setError] = React.useState(null);\r\n\tconst paypalRef = React.useRef();\r\n\r\n\tconsole.log(total);\r\n\r\n\t// To show PayPal buttons once the component loads\r\n\tReact.useEffect(() => {\r\n\t\twindow.paypal\r\n\t\t\t.Buttons({\r\n\t\t\t\tcreateOrder: (data, actions) => {\r\n\t\t\t\t\treturn actions.order.create({\r\n\t\t\t\t\t\tintent: 'CAPTURE',\r\n\t\t\t\t\t\tpurchase_units: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tdescription: 'DWShop',\r\n\t\t\t\t\t\t\t\tamount: {\r\n\t\t\t\t\t\t\t\t\tcurrency_code: 'GBP',\r\n\t\t\t\t\t\t\t\t\tvalue: `${total}`,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tonApprove: async (data, actions) => {\r\n\t\t\t\t\tconst order = await actions.order.capture();\r\n\t\t\t\t\tsetPaid(true);\r\n\t\t\t\t\ttranSuccess(order);\r\n\t\t\t\t\t// console.log(order);\r\n\t\t\t\t},\r\n\t\t\t\tonError: (err) => {\r\n\t\t\t\t\t// setError(err);\r\n\t\t\t\t\tsetPaid(false);\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t.render(paypalRef.current);\r\n\t}, []);\r\n\r\n\t// If the payment has been made\r\n\tif (paid) {\r\n\t\treturn <div>Payment successful</div>;\r\n\t}\r\n\r\n\t// If any error occurs\r\n\tif (error) {\r\n\t\treturn <div>Error Occurred in processing payment. Please try again.</div>;\r\n\t}\r\n\r\n\t// Default Render\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h4>Total £{total}</h4>\r\n\t\t\t<div ref={paypalRef} />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\nimport { ShoppingContext } from '../../contexts/shopping';\nimport { Link } from 'react-router-dom';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport PayPal from './PayPal';\n\nimport { clearStorage } from '../../utils/storage';\nimport { UserContext } from '../../contexts/user';\n\nconst Cart = () => {\n\tconst {\n\t\tcart,\n\t\tsetCart,\n\t\tincreaseQty,\n\t\treduceQty,\n\t\tremoveItem,\n\t\tclearBasket,\n\t\ttotal,\n\t\tgetTotal,\n\t} = useContext(ShoppingContext); //global\n\n\tconst { accessToken, isLogged, isAdmin } = useContext(UserContext);\n\n\tconst [checkout, setCheckOut] = useState(false);\n\n\tuseEffect(() => {\n\t\tlet IsActive = false;\n\t\tgetTotal();\n\t\t/* eslint-disable */\n\t\treturn () => (IsActive = true);\n\t\t/* eslint-enable */\n\t}, [cart]);\n\n\tif (!cart || cart.length === 0) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<h1>No Items in basket</h1>\n\t\t\t\t<button className='btn border'>\n\t\t\t\t\t<Link to={`/products`}>CONTINUE SHOPPING</Link>\n\t\t\t\t</button>\n\t\t\t</>\n\t\t);\n\t}\n\n\tconst tranSuccess = async (payment) => {\n\t\t// console.log('DW transsucess', payment);\n\n\t\tlet paymentID = payment.id;\n\t\tlet address = payment.payer.address;\n\n\t\tconst res = await fetch('/api/payments', {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({ cart, paymentID, address }),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\tcredentials: 'include',\n\t\t\t\tAuthorization: accessToken,\n\t\t\t},\n\t\t});\n\n\t\tconst data = await res.json();\n\t\t// console.log(data);\n\t\talert('You have successfully placed an order.');\n\n\t\t// clear cart\n\t\tsetCart([]);\n\t\t//delete local storage\n\t\tclearStorage();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-6 d-flex justify-content-start'>\n\t\t\t\t\t<h1 className='text-center text-uppercase text-secondary '>Cart</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-6 d-flex justify-content-end'>\n\t\t\t\t\t<h3 className='text-center'>Total - £ {total}</h3>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className='row '>\n\t\t\t\t<div className='col-12 d-flex justify-content-start'>\n\t\t\t\t\t<button className='btn btn-secondary' onClick={() => clearBasket()}>\n\t\t\t\t\t\tREMOVE ALL ITEMS\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className='row mb-5'>\n\t\t\t\t<div className='col-12 d-flex justify-content-end '>\n\t\t\t\t\t<div className='payment-div'>\n\t\t\t\t\t\t{checkout && isLogged ? (\n\t\t\t\t\t\t\t<PayPal total={total} tranSuccess={tranSuccess} />\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn btn-secondary '\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetCheckOut((prev) => !prev);\n\t\t\t\t\t\t\t\tconsole.log('clicked');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCheckout\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='col-12 d-flex justify-content-end '>\n\t\t\t\t\t{checkout && !isLogged ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<p className='mt-2 text-secondary'>Please Register / Signin</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className='container'>\n\t\t\t\t{/* <div className='d-flex flex-row flex-wrap justify-content-between'> */}\n\t\t\t\t<div className='container d-flex flex-row flex-wrap justify-content-between col-xs-12  col-sm-12 p-0 '>\n\t\t\t\t\t{cart\n\t\t\t\t\t\t? cart.map((item) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={item._id}\n\t\t\t\t\t\t\t\t\t\tclassName='card col-xs-12 col-sm-12 col-md-12 col-lg-5  mb-5 mt-5 p-0  '\n\t\t\t\t\t\t\t\t\t\tstyle={styledObj}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img src={item.image} className='card-img-top' alt='' />\n\t\t\t\t\t\t\t\t\t\t{/* <img className=\"\" src={item.image} alt={item.title}/> */}\n\n\t\t\t\t\t\t\t\t\t\t<div className='card-body d-flex justify-content-end '>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn '\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeItem(item._id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<FaTrashAlt\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '2rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'black',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '2rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t\t\t<h1 className='card-title'>{item.title}</h1>\n\n\t\t\t\t\t\t\t\t\t\t\t<p className='card-text'>Price: £{item.price}</p>\n\t\t\t\t\t\t\t\t\t\t\t<h4>Total Price: £{item.price * item.count}</h4>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn primary border mr-2'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => reduceQty(item._id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t-{' '}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<span className=''>{item.count}</span>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn primary border ml-2'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => increaseQty(item._id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t+{' '}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<button className='btn border'>\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/products`}>CONTINUE SHOPPING</Link>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t  })\n\t\t\t\t\t\t: null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nconst styledObj = {\n\t// width: '40%',\n\t// minWidth: '450px',\n};\n\nexport default Cart;\n","import React, { useState, useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { UserContext } from '../../contexts/user';\n\nconst Login = () => {\n\tconst { setAccessToken } = useContext(UserContext); //global user\n\tconst history = useHistory();\n\n\tconst [signInErr, setSignInErr] = useState('');\n\tconst [email, setemail] = useState('');\n\tconst [password, setpassword] = useState('');\n\tconst [emailErr, setemailErr] = useState('');\n\tconst [passwordErr, setpasswordErr] = useState('');\n\n\tconst handleChange = (e, name) => {\n\t\t//clear\n\t\tsetSignInErr('');\n\n\t\tconst user = {};\n\t\t/*eslint-disable */\n\t\tconst emailRegEx = RegExp(\n\t\t\t/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\t);\n\t\t/*eslint-enable */\n\t\tuser[name] = e.target.value;\n\t\t// validations\n\t\tswitch (name) {\n\t\t\tcase 'email':\n\t\t\t\tsetemail(user.email);\n\t\t\t\t!emailRegEx.test(user.email)\n\t\t\t\t\t? setemailErr('Invalid Email!')\n\t\t\t\t\t: setemailErr('');\n\t\t\t\tbreak;\n\t\t\tcase 'password':\n\t\t\t\tsetpassword(user.password);\n\t\t\t\tuser.password.length < 6\n\t\t\t\t\t? setpasswordErr('Password must be at least 6 characters!')\n\t\t\t\t\t: setpasswordErr('');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst handleSignIn = async (e) => {\n\t\te.preventDefault();\n\t\tif (email && password && !emailErr && !passwordErr) {\n\t\t\t//clear\n\t\t\tsetSignInErr('');\n\n\t\t\ttry {\n\t\t\t\tconst res = await fetch('/user/login', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: JSON.stringify({ email, password }),\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tconst data = await res.json();\n\t\t\t\t// console.log(data);\n\n\t\t\t\tif (data.errors) {\n\t\t\t\t\tsetSignInErr(data.errors);\n\t\t\t\t} else if (data.user) {\n\t\t\t\t\t// console.log(\"HERE1\");\n\t\t\t\t\tlocalStorage.setItem('firstLogin', true);\n\t\t\t\t\tsetAccessToken(data.accesstoken);\n\n\t\t\t\t\thistory.push('products');\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=' dcontainer-lg  pt-5 pb-5 mt-6 '>\n\t\t\t<div className='col d-flex justify-content-center align-items-center '>\n\t\t\t\t<div className='col-xs-12  sign-in'>\n\t\t\t\t\t<h2 className='text-start mt-3'>Sign In</h2>\n\t\t\t\t\t{signInErr && (\n\t\t\t\t\t\t<div className='alert alert-danger text-center'>\n\t\t\t\t\t\t\t<span className='text-danger text-capitalize'>{signInErr}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<form className='mt-4 ' onSubmit={handleSignIn}>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label className='mr-3' htmlFor='email'>\n\t\t\t\t\t\t\t\tEnter Email Address\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\temailErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !emailErr && email.length\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\tplaceholder='Email Address'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tautoComplete='on'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'email')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{emailErr && <small className='text-danger'>{emailErr}</small>}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label className='' htmlFor='password'>\n\t\t\t\t\t\t\t\tEnter Password\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\tpasswordErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !passwordErr && password.length\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'password')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{passwordErr && (\n\t\t\t\t\t\t\t\t<small className='text-danger'>{passwordErr}</small>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type='submit' className='btn btn-primary' value='Sign In' />\n\t\t\t\t\t</form>\n\t\t\t\t\t<p className='float-left mt-2'>\n\t\t\t\t\t\tDon't yet have an account?<Link to='/signup'>Sign up</Link>\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className='mt-2 ms-2 '>\n\t\t\t\t\t\t<Link to='/reset'>Forgot Password</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n// import Cookies from 'js-cookie';\n\nconst Register = () => {\n\tconst [signUpErr, setSignUpErr] = useState('');\n\n\tconst [name, setname] = useState('');\n\tconst [email, setemail] = useState('');\n\tconst [password, setpassword] = useState('');\n\tconst [confPassword, setconfPassword] = useState('');\n\tconst [nameErr, setnameErr] = useState('');\n\tconst [emailErr, setemailErr] = useState('');\n\tconst [passwordErr, setpasswordErr] = useState('');\n\tconst [confPasswordErr, setconfPasswordErr] = useState('');\n\tconst [success, setSuccess] = useState('');\n\tconst handleChange = (e, name) => {\n\t\t//clear\n\t\tsetSignUpErr('');\n\n\t\tconst user = {};\n\t\t/*eslint-disable */\n\t\tconst emailRegEx = RegExp(\n\t\t\t/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\t);\n\t\t/*eslint-enable */\n\t\tuser[name] = e.target.value;\n\t\t// validations\n\t\tswitch (name) {\n\t\t\tcase 'name':\n\t\t\t\tsetname(user.name);\n\t\t\t\tuser.name.length < 3\n\t\t\t\t\t? setnameErr('Name must be at least 3 characters!')\n\t\t\t\t\t: setnameErr('');\n\t\t\t\tbreak;\n\t\t\tcase 'email':\n\t\t\t\tsetemail(user.email);\n\t\t\t\t!emailRegEx.test(user.email)\n\t\t\t\t\t? setemailErr('Invalid Email!')\n\t\t\t\t\t: setemailErr('');\n\t\t\t\tbreak;\n\t\t\tcase 'password':\n\t\t\t\tsetpassword(user.password);\n\n\t\t\t\tuser.password.length < 6\n\t\t\t\t\t? setpasswordErr('Password must be at least 6 characters!')\n\t\t\t\t\t: setpasswordErr('');\n\t\t\t\tbreak;\n\t\t\tcase 'confPassword':\n\t\t\t\tsetconfPassword(user.confPassword);\n\t\t\t\tuser.confPassword !== password\n\t\t\t\t\t? setconfPasswordErr('Passwords do not match!')\n\t\t\t\t\t: setconfPasswordErr('');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst handleSignUp = async (e) => {\n\t\te.preventDefault();\n\n\t\tif (\n\t\t\tname &&\n\t\t\temail &&\n\t\t\tpassword &&\n\t\t\tconfPassword &&\n\t\t\t!nameErr &&\n\t\t\t!emailErr &&\n\t\t\t!passwordErr &&\n\t\t\t!confPasswordErr\n\t\t) {\n\t\t\t//clear\n\t\t\tsetSignUpErr('');\n\t\t\tsetSuccess('');\n\n\t\t\ttry {\n\t\t\t\tconst res = await fetch('/user/signup', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: JSON.stringify({ name, email, password }),\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tconst data = await res.json();\n\t\t\t\t// console.log(data);\n\n\t\t\t\tif (data.errors) {\n\t\t\t\t\tsetSignUpErr(data.errors);\n\t\t\t\t}\n\t\t\t\tif (data.msg) {\n\t\t\t\t\t// console.log(data);\n\n\t\t\t\t\tsetSuccess(data.msg);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err.message);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className='container-lg  pt-5 pb-5 mt-6 '>\n\t\t\t<div className='row d-flex justify-content-center align-items-center '>\n\t\t\t\t<div className='col-xs-12 sign-in '>\n\t\t\t\t\t<h2 className='text-center'>Create an Account</h2>\n\t\t\t\t\t{signUpErr && (\n\t\t\t\t\t\t<div className='alert alert-danger text-center'>\n\t\t\t\t\t\t\t<span className='text-danger text-capitalize'>{signUpErr}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{success && (\n\t\t\t\t\t\t<div className='alert alert-success text-center'>\n\t\t\t\t\t\t\t<span className='text-success text-capitalize'>{success}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<form className='mt-4' onSubmit={handleSignUp}>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label htmlFor='name'>Enter Full Name</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\tnameErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !nameErr && name.length\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='name'\n\t\t\t\t\t\t\t\tplaceholder='Full Name'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'name')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{nameErr && <small className='text-danger'>{nameErr}</small>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label htmlFor='email'>Enter Email Address</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\temailErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !emailErr && email.length\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\tplaceholder='Email Address'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'email')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{emailErr && <small className='text-danger'>{emailErr}</small>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label htmlFor='password'>Enter Password</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\tpasswordErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !passwordErr && password.length\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'password')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{passwordErr && (\n\t\t\t\t\t\t\t\t<small className='text-danger'>{passwordErr}</small>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label htmlFor='Confirm Password'>Confirm Password</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tname='confPassword'\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\tconfPasswordErr\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\n\t\t\t\t\t\t\t\t\t\t: !confPasswordErr && !passwordErr && confPassword\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tid='confPassword'\n\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'confPassword')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{confPasswordErr && (\n\t\t\t\t\t\t\t\t<small className='text-danger'>{confPasswordErr}</small>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type='submit' className='btn btn-primary' value='Sign Up' />\n\t\t\t\t\t</form>\n\t\t\t\t\t<p className='float-left'>\n\t\t\t\t\t\tAlready have an account?<Link to='/signin'>Log In</Link>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Register;\n","import React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { UserContext } from '../../contexts/user';\nimport * as ROUTES from '../../constants/routes';\n\nconst History = () => {\n\tconst { history, setHistory, accessToken, isAdmin } = useContext(UserContext); //global user\n\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tuseEffect(() => {\n\t\tlet isActive = false;\n\n\t\tconst getHistory = async () => {\n\t\t\tif (isAdmin) {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await fetch('/api/payments', {\n\t\t\t\t\t\theaders: { Authorization: accessToken },\n\t\t\t\t\t});\n\n\t\t\t\t\tconst data = await res.json();\n\t\t\t\t\t// console.log(data);\n\t\t\t\t\tsetHistory(data);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log(err.message);\n\t\t\t\t\tsetHistory([]);\n\t\t\t\t\tsetError(true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await fetch('/user/history', {\n\t\t\t\t\t\theaders: { Authorization: accessToken },\n\t\t\t\t\t});\n\n\t\t\t\t\tconst data = await res.json();\n\t\t\t\t\t// console.log(data);\n\t\t\t\t\tsetHistory(data);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log(err.message);\n\n\t\t\t\t\tsetHistory([]);\n\t\t\t\t\tsetError(true);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tgetHistory();\n\t\t/*eslint-disable */\n\t\treturn () => (isActive = true);\n\t\t/*eslint-enable */\n\t}, [accessToken, setHistory, isAdmin]);\n\n\tif (error) {\n\t\treturn <div>Error with loading of page. Please refresh page.</div>;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && <div>Error with loading of page. Please refresh page.</div>}\n\n\t\t\t{history.length > 0 ? (\n\t\t\t\t<div className='container'>\n\t\t\t\t\t<div className='row '>\n\t\t\t\t\t\t<h2>Account History</h2>\n\n\t\t\t\t\t\t<button className='btn '>\n\t\t\t\t\t\t\t<Link to={ROUTES.PRODUCTS}>Back to products</Link>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<p>You have {history.length} purchases</p>\n\n\t\t\t\t\t<table className='table table-hover '>\n\t\t\t\t\t\t<thead className='thead-dark'>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope='col'>Payment ID</th>\n\t\t\t\t\t\t\t\t<th scope='col'>Date of Purchased</th>\n\t\t\t\t\t\t\t\t<th scope='col'></th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{history.map((item) => (\n\t\t\t\t\t\t\t\t<tr key={item._id}>\n\t\t\t\t\t\t\t\t\t<td>{item.paymentID}</td>\n\t\t\t\t\t\t\t\t\t<td>{new Date(item.createdAt).toLocaleDateString()}</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<Link to={`/history/${item._id}`}>View</Link>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<p>You have 0 purchases</p>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default History;\n","import React, {useState, useEffect, useContext} from 'react'\nimport {useParams,Link} from 'react-router-dom'\nimport {UserContext} from '../../contexts/user'\nimport * as ROUTES from '../../constants/routes'\n\nfunction OrderDetails() {\n   \n\n    const { history, } = useContext(UserContext);    //global user    \n    \n    const [orderDetails, setOrderDetails] = useState([])\n\n    const {id} = useParams()\n    // console.log(id);\n\n    useEffect(() => {\n        if(id){\n            history.forEach(item =>{\n                if(item._id === id){\n                    setOrderDetails(item)\n                } \n            })\n        }\n    },[id, history])\n\n\n    if(orderDetails.length === 0) return null;\n\n    return (\n\n        \n        <div className=\"container mt-1\">\n\n            <button className=\"btn\" ><Link to={ROUTES.HISTORY}>Back to accounts</Link></button>\n\n            <table className=\"table table-bordered mt-3\">\n                <thead className=\"thead-dark\">\n                    <tr>\n                        <th>Name</th>\n                        <th>Address</th>\n                        <th>Postal Code</th>\n                        <th>Country Code</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>{orderDetails.address.recipient_name}</td>\n                        <td>{orderDetails.address.line1 + \" - \" + orderDetails.address.city}</td>\n                        <td>{orderDetails.address.postal_code}</td>\n                        <td>{orderDetails.address.country_code}</td>\n                    </tr>\n                </tbody>\n            </table>\n\n            <table className=\"table table-bordered\" >\n                <thead className=\"thead-dark\">\n                    <tr>\n                        \n                        <th>Products</th>\n                        <th>Quantity</th>\n                        <th>Price</th>\n                        <th>Total</th>\n                        <th>Dispatched</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        orderDetails.cart.map(item =>(\n                        <tr key={item._id}>\n                            <td>{item.title}</td>\n                            <td>{item.count}</td>\n                            <td>{item.price}</td>\n                            <td>£ {item.price * item.count}</td>\n                            <td>{item.Sent ? \"Yes\": \"No\"}</td>\n                           \n                        </tr>\n                        ))\n                    }\n                    \n                </tbody>\n            </table>\n            \n        </div>\n    )\n}\n\nexport default OrderDetails\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst ActivateAccount = () => {\r\n\tconst [err, setErr] = useState('');\r\n\tconst [success, setSuccess] = useState('');\r\n\r\n\t// /activation\r\n\tconst { id } = useParams();\r\n\tconsole.log(id);\r\n\r\n\tconst validate = async (id) => {\r\n\t\ttry {\r\n\t\t\tconst res = await fetch('/user/activation', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: JSON.stringify({ accesstoken: id }),\r\n\t\t\t\theaders: { 'Content-Type': 'application/json', credentials: 'include' },\r\n\t\t\t});\r\n\r\n\t\t\tconst data = await res.json();\r\n\t\t\tconsole.log(data);\r\n\r\n\t\t\tif (data.errors) {\r\n\t\t\t\tsetErr(data.errors);\r\n\t\t\t} else {\r\n\t\t\t\tsetSuccess(data.msg);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.message);\r\n\t\t\tsetErr(err.message);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlet isActive = true;\r\n\t\tvalidate(id);\r\n\r\n\t\treturn () => {\r\n\t\t\t/*eslint-disable */\r\n\t\t\tisActive = false;\r\n\t\t\t/*eslint-enable */\r\n\t\t};\r\n\t}, [id]);\r\n\r\n\treturn (\r\n\t\t<div className='alert'>\r\n\t\t\t<p className='text-danger'>{err}</p>\r\n\t\t\t<p className='text-success'>{success}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ActivateAccount;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ResetAccount = () => {\r\n\t//   const history = useHistory()\r\n\r\n\tconst [signInErr, setSignInErr] = useState('');\r\n\tconst [success, setSuccess] = useState('');\r\n\r\n\tconst [email, setemail] = useState('');\r\n\tconst [emailErr, setemailErr] = useState('');\r\n\r\n\tconst handleChange = (e, name) => {\r\n\t\t//clear\r\n\t\tsetSignInErr('');\r\n\t\tsetSuccess('');\r\n\t\tsetemailErr('');\r\n\r\n\t\tconst user = {};\r\n\t\t/*eslint-disable */\r\n\t\tconst emailRegEx = RegExp(\r\n\t\t\t/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\t\t);\r\n\r\n\t\tuser[name] = e.target.value;\r\n\t\t// validations\r\n\t\tswitch (name) {\r\n\t\t\tcase 'email':\r\n\t\t\t\tsetemail(user.email);\r\n\t\t\t\t!emailRegEx.test(user.email)\r\n\t\t\t\t\t? setemailErr('Invalid Email!')\r\n\t\t\t\t\t: setemailErr('');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSignIn = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (email && !emailErr) {\r\n\t\t\t//clear\r\n\t\t\tsetSignInErr('');\r\n\t\t\tsetSuccess('');\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await fetch('/user/forgot', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: JSON.stringify({ email }),\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tcredentials: 'include',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tconst data = await res.json();\r\n\t\t\t\t// console.log(data);\r\n\r\n\t\t\t\tif (data.errors) {\r\n\t\t\t\t\tsetSignInErr(data.errors);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSuccess(data.msg);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tsetSignInErr(err.message);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='container-lg  pt-5 pb-5 mt-6 '>\r\n\t\t\t<div className='row d-flex justify-content-center align-items-center '>\r\n\t\t\t\t<div className='col-xs-12  '>\r\n\t\t\t\t\t<h2 className='text-start mt-3'>Forgot Password</h2>\r\n\t\t\t\t\t{signInErr && (\r\n\t\t\t\t\t\t<div className='alert alert-danger text-center'>\r\n\t\t\t\t\t\t\t<span className='text-danger text-capitalize'>{signInErr}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{success && (\r\n\t\t\t\t\t\t<div className='alert alert-success text-center'>\r\n\t\t\t\t\t\t\t<span className='text-success text-capitalize'>{success}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<form className='mt-4 ' onSubmit={handleSignIn}>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label className='mr-3' htmlFor='email'>\r\n\t\t\t\t\t\t\t\tEnter Email Address\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\temailErr\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\r\n\t\t\t\t\t\t\t\t\t\t: !emailErr && email.length\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\r\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\tplaceholder='Email Address'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tautoComplete='on'\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'email')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{emailErr && <small className='text-danger'>{emailErr}</small>}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<input type='submit' className='btn btn-primary' value='Submit' />\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<p className='float-left mt-5'>\r\n\t\t\t\t\t\tBack to<Link to='/signin'>Sign in</Link>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ResetAccount;\r\n","import React, { useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nconst ResetPassword = () => {\r\n\tconst { id } = useParams();\r\n\r\n\tconst [signUpErr, setSignUpErr] = useState('');\r\n\r\n\tconst [email, setemail] = useState('');\r\n\tconst [password, setpassword] = useState('');\r\n\tconst [confPassword, setconfPassword] = useState('');\r\n\tconst [emailErr, setemailErr] = useState('');\r\n\tconst [passwordErr, setpasswordErr] = useState('');\r\n\tconst [confPasswordErr, setconfPasswordErr] = useState('');\r\n\tconst [success, setSuccess] = useState('');\r\n\tconst handleChange = (e, name) => {\r\n\t\t//clear\r\n\t\tsetSignUpErr('');\r\n\r\n\t\tconst user = {};\r\n\t\t/* eslint-disable */\r\n\t\tconst emailRegEx = RegExp(\r\n\t\t\t/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\t\t);\r\n\r\n\t\t/* eslint-enable  */\r\n\t\tuser[name] = e.target.value;\r\n\t\t// validations\r\n\t\tswitch (name) {\r\n\t\t\tcase 'email':\r\n\t\t\t\tsetemail(user.email);\r\n\t\t\t\t!emailRegEx.test(user.email)\r\n\t\t\t\t\t? setemailErr('Invalid Email!')\r\n\t\t\t\t\t: setemailErr('');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'password':\r\n\t\t\t\tsetpassword(user.password);\r\n\r\n\t\t\t\tuser.password.length < 6\r\n\t\t\t\t\t? setpasswordErr('Password must be at least 6 characters!')\r\n\t\t\t\t\t: setpasswordErr('');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'confPassword':\r\n\t\t\t\tsetconfPassword(user.confPassword);\r\n\t\t\t\tuser.confPassword !== password\r\n\t\t\t\t\t? setconfPasswordErr('Passwords do not match!')\r\n\t\t\t\t\t: setconfPasswordErr('');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSignUp = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (\r\n\t\t\temail &&\r\n\t\t\tpassword &&\r\n\t\t\tconfPassword &&\r\n\t\t\t!emailErr &&\r\n\t\t\t!passwordErr &&\r\n\t\t\t!confPasswordErr\r\n\t\t) {\r\n\t\t\t//clear\r\n\t\t\tsetSignUpErr('');\r\n\t\t\tsetSuccess('');\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await fetch('/user/reset', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: JSON.stringify({ email, password, accesstoken: id }),\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tcredentials: 'include',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tconst data = await res.json();\r\n\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\tif (data.errors) {\r\n\t\t\t\t\tsetSignUpErr(data.errors);\r\n\t\t\t\t}\r\n\t\t\t\tif (data.msg) {\r\n\t\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\t\tsetSuccess(data.msg);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err.message);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='container-lg  pt-5 pb-5 mt-6 '>\r\n\t\t\t<div className='row d-flex justify-content-center align-items-center '>\r\n\t\t\t\t<div className='col-xs-12 '>\r\n\t\t\t\t\t<h2 className='text-center'>Create your Password</h2>\r\n\t\t\t\t\t{signUpErr && (\r\n\t\t\t\t\t\t<div className='alert alert-danger text-center'>\r\n\t\t\t\t\t\t\t<span className='text-danger text-capitalize'>{signUpErr}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{success && (\r\n\t\t\t\t\t\t<div className='alert alert-success text-center'>\r\n\t\t\t\t\t\t\t<span className='text-success text-capitalize'>{success}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<form className='mt-4' onSubmit={handleSignUp}>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label htmlFor='email'>Enter Email Address</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\temailErr\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\r\n\t\t\t\t\t\t\t\t\t\t: !emailErr && email.length\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\r\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\tplaceholder='Email Address'\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'email')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{emailErr && <small className='text-danger'>{emailErr}</small>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label htmlFor='password'>Enter Password</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\tpasswordErr\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\r\n\t\t\t\t\t\t\t\t\t\t: !passwordErr && password.length\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\r\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'password')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{passwordErr && (\r\n\t\t\t\t\t\t\t\t<small className='text-danger'>{passwordErr}</small>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label htmlFor='Confirm Password'>Confirm Password</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\tname='confPassword'\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\tconfPasswordErr\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-invalid'\r\n\t\t\t\t\t\t\t\t\t\t: !confPasswordErr && !passwordErr && confPassword\r\n\t\t\t\t\t\t\t\t\t\t? 'form-control is-valid'\r\n\t\t\t\t\t\t\t\t\t\t: 'form-control'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid='confPassword'\r\n\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(e, 'confPassword')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{confPasswordErr && (\r\n\t\t\t\t\t\t\t\t<small className='text-danger'>{confPasswordErr}</small>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input type='submit' className='btn btn-primary' value='Submit' />\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<p className='float-left mt-5'>\r\n\t\t\t\t\t\t<Link to='/signin'>Log In</Link>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ResetPassword;\r\n","import React, { useState, useContext, useEffect } from 'react';\n\nimport { UserContext } from '../../contexts/user';\nimport { ShoppingContext } from '../../contexts/shopping';\n\nconst initialState = {\n\ttitle: '',\n\timage: '',\n\tprice: '',\n\tdescription: '',\n\tcategory: '',\n\tcountInStock: '',\n};\n\nfunction CreateProduct() {\n\tconst { isAdmin, accessToken } = useContext(UserContext); //global user\n\tconst { categorysGlobal, setCategorysGlobal } = useContext(ShoppingContext); // global products\n\n\tconst [product, setProduct] = useState(initialState);\n\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tconst getCategorys = async () => {\n\t\ttry {\n\t\t\tconst res = await fetch('/api/category');\n\t\t\tconst data = await res.json();\n\n\t\t\tsetCategorysGlobal(data);\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetLoading(false);\n\t\t\tsetError(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tlet isActive = true;\n\n\t\tgetCategorys();\n\t\t/*eslint-disable */\n\t\treturn () => {\n\t\t\tisActive = false;\n\t\t};\n\t\t/*eslint-enable */\n\t}, []);\n\n\tconst handleChangeInput = (e) => {\n\t\tconst { name, value } = e.target;\n\n\t\tif ((name === 'price' || name === 'countInStock') && value < 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetProduct({ ...product, [name]: value });\n\t};\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tif (!isAdmin) return alert('Unauthorised');\n\n\t\t\tif (product.category === '') {\n\t\t\t\talert('Please select a category');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// console.log(product);\n\n\t\t\tconst res = await fetch('/api/products/add', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify({ ...product }),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\tAuthorization: accessToken,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tconst data = await res.json();\n\t\t\tconsole.log(data);\n\t\t\tif (data !== 'item added') {\n\t\t\t\talert('Admin access lasts 10 mins, please refresh page and try again.');\n\t\t\t} else {\n\t\t\t\talert(data);\n\t\t\t\tsetProduct(initialState);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\talert(err.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && <div>Error with loading of page. Please refresh page.</div>}\n\n\t\t\t{categorysGlobal && (\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Title</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tplaceholder='Shirt'\n\t\t\t\t\t\t\tvalue={product.title}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Image</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='image'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tplaceholder='https://images.unsplash.com/photo-1606813907291-d86efa9b94db?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80'\n\t\t\t\t\t\t\tvalue={product.image}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Price</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\tname='price'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tplaceholder='1.00'\n\t\t\t\t\t\t\tvalue={product.price}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Description</label>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tplaceholder='Lorem ipsum dolor sit amet consectetur adipisicing elit. Non assumenda maiores vero, consequuntur'\n\t\t\t\t\t\t\tvalue={product.description}\n\t\t\t\t\t\t\trows='5'\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Categories: </label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname='category'\n\t\t\t\t\t\t\tvalue={product.category}\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=''>Please select a category</option>\n\t\t\t\t\t\t\t{categorysGlobal.map((category) => (\n\t\t\t\t\t\t\t\t<option value={category.name} key={category._id}>\n\t\t\t\t\t\t\t\t\t{category.name}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Stock Count</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\tname='countInStock'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tplaceholder='0'\n\t\t\t\t\t\t\tvalue={product.countInStock}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button className='btn btn-primary' type='submit'>\n\t\t\t\t\t\tAdd\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default CreateProduct;\n","import React, { useState, useEffect, useContext } from 'react';\nimport * as ROUTES from '../../constants/routes';\n\nimport { UserContext } from '../../contexts/user';\nimport { ShoppingContext } from '../../contexts/shopping';\nimport { useParams, Link } from 'react-router-dom';\n\nfunction AmendProduct() {\n\tconst { id } = useParams();\n\n\tconst { isAdmin, accessToken } = useContext(UserContext); //global user\n\tconst { categorysGlobal, products } = useContext(ShoppingContext); // global products\n\n\tconst [product, setProduct] = useState();\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState(false);\n\n\tuseEffect(() => {\n\t\tlet isActive = false;\n\t\ttry {\n\t\t\tconst getProduct = () => {\n\t\t\t\tlet amendProduct = products.filter((x) => x._id === id);\n\t\t\t\treturn amendProduct;\n\t\t\t};\n\n\t\t\tlet item = getProduct();\n\t\t\t// console.log(amendProduct);\n\t\t\tsetProduct(item[0]);\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t\tsetError(true);\n\t\t}\n\t\t/*eslint-disable */\n\t\treturn () => (isActive = true);\n\t\t/*eslint-enable */\n\t}, []);\n\n\tconst handleChangeInput = (e) => {\n\t\t// console.log(\"HERE\");\n\n\t\tconst { name, value } = e.target;\n\t\tconsole.log(name, value);\n\n\t\tif ((name === 'price' || name === 'countInStock') && value < 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetProduct({ ...product, [name]: value });\n\t};\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tif (!isAdmin) return alert('Unauthorised');\n\n\t\t\tif (product.category === '') {\n\t\t\t\talert('Please select a category');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconsole.log(product);\n\n\t\t\tconst res = await fetch('/api/products/update/' + id, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify({ ...product }),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\tAuthorization: accessToken,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tconst data = await res.json();\n\t\t\tconsole.log(data);\n\t\t\tif (data !== 'item updated') {\n\t\t\t\talert('Admin access lasts 10 mins, please refresh page and try again.');\n\t\t\t} else {\n\t\t\t\talert(data);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\talert(err.message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <div>Loading........</div>}\n\n\t\t\t{error && <div>Error with loading of page. Please refresh page.</div>}\n\n\t\t\t{product && (\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Title</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={product.title}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Image</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='image'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={product.image}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Price</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\tname='price'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={product.price}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Description</label>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={product.description}\n\t\t\t\t\t\t\trows='5'\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Categories: </label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname='category'\n\t\t\t\t\t\t\tvalue={product.category}\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{categorysGlobal.map((category) => (\n\t\t\t\t\t\t\t\t<option value={category.name} key={category._id}>\n\t\t\t\t\t\t\t\t\t{category.name}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>Stock Count</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\tname='countInStock'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={product.countInStock}\n\t\t\t\t\t\t\tonChange={handleChangeInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button className='btn btn-primary' type='submit'>\n\t\t\t\t\t\tSave\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className='btn border'>\n\t\t\t\t\t\t<Link to={ROUTES.PRODUCTS}>Back to products</Link>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div></div>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default AmendProduct;\n","import * as ROUTES from '../constants/routes';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Home from '../components/Home';\nimport Error from '../components/Error';\nimport Navbar from '../components/Navbar';\n\nimport Products from '../components/products/Products';\nimport ProductDetails from '../components/products/ProductDetails';\n\nimport Cart from '../components/cart/Cart';\n\nimport Login from '../components/accounts/Login';\nimport Register from '../components/accounts/Register';\nimport History from '../components/accounts/History';\nimport OrderDetails from '../components/accounts/orderDetails';\n\n//activate account for first login\nimport ActivateAccount from '../components/accounts/ActivateAccount';\n//request a new password\nimport ResetAccount from '../components/accounts/ResetAccount';\n//request a new password\nimport ResetPassword from '../components/accounts/ResetPassword';\n\n//admin\nimport CreateProduct from '../components/admin/products';\nimport AmendProduct from '../components/admin/amendProducts';\n\nconst Pages = () => {\n\treturn (\n\t\t<>\n\t\t\t<Router>\n\t\t\t\t<Navbar />\n\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path={ROUTES.HOME} component={Home} />\n\n\t\t\t\t\t<Route exact path={ROUTES.PRODUCTS} component={Products} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath={ROUTES.PRODUCTS + '/:id'}\n\t\t\t\t\t\tcomponent={ProductDetails}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path={ROUTES.CART} component={Cart}></Route>\n\n\t\t\t\t\t<Route exact path={ROUTES.HISTORY} component={History} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath={ROUTES.HISTORY + '/:id'}\n\t\t\t\t\t\tcomponent={OrderDetails}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Route path={ROUTES.LOGIN} component={Login} />\n\t\t\t\t\t<Route path={ROUTES.REGISTER} component={Register} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath={ROUTES.ACTIVATE + '/:id'}\n\t\t\t\t\t\tcomponent={ActivateAccount}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path={ROUTES.RESET} component={ResetAccount} exact />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath={ROUTES.RESETPASSWORD + '/:id'}\n\t\t\t\t\t\tcomponent={ResetPassword}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Route path={ROUTES.CREATE_PRODUCT} exact component={CreateProduct} />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath={ROUTES.AMEND_PRODUCT + '/:id'}\n\t\t\t\t\t\tcomponent={AmendProduct}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Route path='*'>\n\t\t\t\t\t\t<Error />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</>\n\t);\n};\n\nexport default Pages;\n","import React, { useEffect, useContext } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Pages from './pages/Pages';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { getStorage } from './utils/storage';\nimport { ShoppingContext } from './contexts/shopping';\nimport { UserContext } from './contexts/user';\n\nfunction App() {\n\tconst { setCart } = useContext(ShoppingContext); //global shopping cart\n\tconst { setAccessToken } = useContext(UserContext); //global user\n\n\tuseEffect(() => {\n\t\tconst storage = getStorage();\n\n\t\tif (storage) {\n\t\t\tsetCart(storage);\n\t\t}\n\t\t// console.log(storage);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst firstLogin = localStorage.getItem('firstLogin');\n\n\t\tif (firstLogin) {\n\t\t\tconst refreshToken = async () => {\n\t\t\t\tconst res = await fetch('/user/refresh_token', {\n\t\t\t\t\tcredentials: 'include',\n\t\t\t\t});\n\n\t\t\t\tconst data = await res.json();\n\n\t\t\t\t//get a new acccess token if cookie held\n\t\t\t\tif (data.accesstoken) {\n\t\t\t\t\tsetAccessToken(data.accesstoken);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\trefreshToken();\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<div className='container-lg  h-100 '>\n\t\t\t<Router>\n\t\t\t\t<Pages />\n\t\t\t</Router>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport ShoppingProvider from './contexts/shopping';\nimport UserProvider from './contexts/user';\nimport { disableReactDevTools } from '@fvilers/disable-react-devtools';\n\nif (process.env.REACT_APP_NODE_ENV === 'production') disableReactDevTools();\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<UserProvider>\n\t\t\t<ShoppingProvider>\n\t\t\t\t<App />\n\t\t\t</ShoppingProvider>\n\t\t</UserProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}